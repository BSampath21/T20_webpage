!function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){const{fixtureStrip:i}=a(1);const s=async(t=[])=>{try{if(!t.length)return!0;await Promise.allSettled(t.map(async t=>await function(t){return new Promise((e,a)=>{const i=document.querySelectorAll('[rel="stylesheet"]');if(i.length)for(let a=0;a<i.length;a++){if(i[a].getAttribute("href").includes(t.split("/").pop()))return void e()}let s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.onload=()=>e(),s.onerror=()=>a(),s.href=t;let r=document.querySelector("script");r.parentNode.insertBefore(s,r)})}(t.replace("{{VERSION}}",window.jsversion))));return!0}catch(t){return console.log("Failed to load css files from config: ",t),!1}};window.SIWidget.SIClass=window.SIWidget.SIClass||{},window.SIWidget.SIClass.fixtureStrip=class{constructor(t,e,a,i){if(this.config=t,this.Vue=e,this.widgetConfig=a,this.css=this.widgetConfig.css||[],this.wdType=this.widgetConfig.container.getAttribute("data-wdtype"),this.wdId=this.widgetConfig.container.getAttribute("data-wdid"),this.testIds=[1,4,11,14,21,71,81,91,101,111],(t=>{const e=new URLSearchParams(window.location.search),a=Object.fromEntries(e.entries());"true"===a.si_debug&&(t.widgetConfig.container.setAttribute("data-background-color",""),t.widgetConfig.container.setAttribute("data-theme-color","#EA37A2"),t.widgetConfig.container.setAttribute("data-background-image","https://assets-icc.sportz.io/static-assets/images/world-cup-themes/theme_fixture-strip.png"),t.widgetConfig.container.setAttribute("data-theme","dark")),a.matchstate&&t.widgetConfig.container.setAttribute("data-matchstate",a.matchstate),a.matchorder&&t.widgetConfig.container.setAttribute("data-matchorder",a.matchorder),a.leagueids&&t.widgetConfig.container.setAttribute("data-league-ids",a.leagueids),a.count&&t.widgetConfig.container.setAttribute("data-count",a.count),a.comptypeids&&t.widgetConfig.container.setAttribute("data-comp-type-ids",a.comptypeids),a.teamids&&t.widgetConfig.container.setAttribute("data-team-ids",a.teamids),a.year&&t.widgetConfig.container.setAttribute("data-year",a.year),a.tourids&&t.widgetConfig.container.setAttribute("data-tour-ids",a.tourids),a.seriesids&&t.widgetConfig.container.setAttribute("data-series-ids",a.seriesids),a.daterange&&t.widgetConfig.container.setAttribute("data-date-range",a.daterange),a.lang&&t.widgetConfig.container.setAttribute("data-lang",a.lang),a.viewtype&&t.widgetConfig.container.setAttribute("data-viewtype",a.viewtype),a.bgcolor&&t.widgetConfig.container.setAttribute("data-background-color",a.bgcolor),a.themecolor&&t.widgetConfig.container.setAttribute("data-theme-color",a.themecolor),a.bgimage&&t.widgetConfig.container.setAttribute("data-background-image",a.bgimage),a.bgimagecolor&&t.widgetConfig.container.setAttribute("data-background-image-color",a.bgimagecolor),a.fixturepageurl&&t.widgetConfig.container.setAttribute("data-fixture-page-url",a.fixturepageurl),a.theme&&t.widgetConfig.container.setAttribute("data-theme",a.theme),a.vertical&&t.widgetConfig.container.setAttribute("data-vertical",a.vertical)})(this),this.selectedLang=this.widgetConfig.container.getAttribute("data-lang")||"en",this.viewType=this.widgetConfig.container.getAttribute("data-viewtype"),this.matchOrder=this.widgetConfig.container.getAttribute("data-matchorder")||"",this.matchCounts=this.widgetConfig.container.getAttribute("data-count")||{},this.matchStateEmbed=this.widgetConfig.container.getAttribute("data-matchstate")||"","LR"!=this.matchStateEmbed&&"RL"!=this.matchStateEmbed&&"LU"!=this.matchStateEmbed&&"UL"!=this.matchStateEmbed&&"UR"!=this.matchStateEmbed&&"RU"!=this.matchStateEmbed||this.widgetConfig.container.setAttribute("data-matchstate","LRU"),this.matchCounts){const t={};this.matchCounts.split(",").forEach(e=>{!e.includes("-")&&["U","L","R"].includes(e[0])&&(e=e.replace(e[0],e[0]+"-"));const a=e.split("-");a.length>1&&(t[a[0]]=Number(a[1]))}),this.matchCounts=t}if(this.isMobile=window.innerWidth<=767,this.isVue3=!1,this.utils=window.SIWidget.utils,this.queryArray=[],this.bgColor=this.widgetConfig.container.getAttribute("data-background-color")||"",this.themeColor=this.widgetConfig.container.getAttribute("data-theme-color")||"",this.bgImage=this.widgetConfig.container.getAttribute("data-background-image")||"",this.bgImageColor=this.widgetConfig.container.getAttribute("data-background-image-color")||"",this.theme=this.widgetConfig.container.getAttribute("data-theme")||"",this.fixturePageUrl=this.widgetConfig.container.getAttribute("data-fixture-page-url")||"",this.fixtureSlideText=this.widgetConfig.container.getAttribute("data-fixture-slide-text")||"All Fixtures",this.swiperVertical="true"===this.widgetConfig.container.getAttribute("data-vertical"),this.leagueIds=this.widgetConfig.container.getAttribute("data-league-ids")||"",this.leagueIds){const t=this.leagueIds.split(",");t.includes("1")&&t.includes("9")&&t.includes("10")&&(this.widgetConfig.container.setAttribute("data-league-ids","1,9,10,35"),this.leagueIds="1,9,10,35")}let s=!0;for(let t of this.widgetConfig.attributes){let e=this.widgetConfig.container.getAttribute(t.attr);if(e){if("data-matchstate"===t.attr){e.split("").forEach(e=>{const a=this.utils.getV2(this.config,`${t.key}[${e}]`,!1);a&&this.queryArray.push(a)})}else if("data-date-range"===t.attr){if(e=e.split("-"),e.length>1){const a=this.utils.getV2(this.config,t.path,!1).replace("{{START_DATE}}",e[0]).replace("{{END_DATE}}",e[1]);this.queryArray.push(a)}}else if(t.path){const a=this.utils.getV2(this.config,t.path,!1);a&&this.queryArray.push(a+e),["data-team-ids","data-series-ids","data-tour-ids"].includes(t.attr)&&(s=!1)}if("data-count"===t.attr){let t=!0;this.queryArray.forEach(e=>{(e.includes("series_ids")||e.includes("from_date")||e.includes("team_ids"))&&(t=!1)}),t&&(this.queryArray.push("pagination=false"),this.queryArray.push(this.config.scheduleApiParams.gameCount+Object.values(this.matchCounts)[0]))}}}if(s||(this.queryArray=this.queryArray.filter(t=>!t.includes("from_date"))),this.swiperVertical){this.queryArray.find((t,e)=>{if(t.includes("from_date")&&t.includes("to_date")){let a=t.split("&");if(a[0].replace("from_date=","")==a[0].replace("to_date=","")){const t=(()=>{const t=new Date;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}).format(t)})();let a=t.split("/")[2]+t.split("/")[0]+t.split("/")[1];return this.queryArray[e]=`from_date=${a}&to_date=${a}`,!0}}return!1})}this.leagueIds&&this.widgetConfig.dataApis.matches.includes("league_ids")&&(this.widgetConfig.dataApis.matches=this.widgetConfig.dataApis.matches.split("&").filter(t=>!t.includes("league")).join("&")),this.queryArray.push("timezone="+this.utils.getFormattedTimezoneOffset()),this.defaultQueryString=this.queryArray.join("&"),this.isUserVIP=null,this.userCountry=null}init(){s(this.css).then(t=>t&&this.hydration())}checkIfUserVIP(){try{const t=JSON.parse(sessionStorage.getItem("session")),e=JSON.parse(sessionStorage.getItem("vList"));t&&e&&e.includes(t.user.sub)?this.isUserVIP=!0:this.isUserVIP=!1}catch(t){console.log("Error in checkIFUserVIP",t)}}async getGeoLocation(){try{const t={method:"HEAD",redirect:"follow",mode:"cors"};let e="dev"==this.widgetConfig.env?"dev_geoLocation":"geoLocation";return fetch(this.widgetConfig.dataApis[e].api,t)}catch(t){console.log("Error in getGeoLocation",t)}}async hydration(){try{this.checkIfUserVIP();let t=await this.getGeoLocation();this.userCountry=t.headers.get("X-Akamai-Cc")||"";const{matches:e}=await this.utils.fetchData(this.widgetConfig.dataApis,{QUERY:this.defaultQueryString});this.mountMarkup({...this.parseMatchesData(e.data.matches),matchStateText:this.config.widgets.fixtures.matchStateText,compLabels:this.config.comp_labels||{},bgConfig:{color:this.bgColor,bgimagecolor:this.bgImageColor,themecolor:this.themeColor,image:this.bgImage,theme:this.theme},userCountry:this.userCountry,isUserVIP:this.isUserVIP,fixturePageUrl:this.fixturePageUrl,viewType:this.viewType,swiperVertical:this.swiperVertical,fixtureSlideText:this.fixtureSlideText},`<div class="si-component si-scorestrip" :class="{'si-theme': widgetData.bgConfig.theme == 'dark', 'si-scorestrip-widget': widgetData.viewType == 'footer'}" :style="bgStyle()"
> <div class="si-wrapper"> <div class="si-head" v-if="widgetData.viewType === 'footer'"> <h1 class="si-title">{{widgetData.fixtureSlideText}}</h1> <!-- <div class="si-social-share"> <button class="si-share-icon" type="button" aria-label="Share" aria-expanded="false" aria-haspopup="true"> <i class="si-icon-b-share">Share icon</i> </button> <div class="si-social-share-wrap"> <div class="si-social-wrap"> <span class="si-share-label">Share</span> <div class="si-social-items"> <button type="button" class="si-social-icon" aria-label="Share on Facebook" aria-expanded="false" aria-haspopup="true"> <i class="si-icon-b-facebook">Share on Facebook</i> </button> <button type="button" class="si-social-icon" aria-label="Share on Twitter" aria-expanded="false" aria-haspopup="true"> <i class="si-icon-b-twitter">Share on Twitter</i> </button> <button type="button" class="si-social-icon" aria-label="Share on WhatsApp" aria-expanded="false" aria-haspopup="true"> <i class="si-icon-b-whatsapp">Share on WhatsApp</i> </button> <button type="button" class="si-social-icon" aria-label="Copy Link" aria-expanded="false" aria-haspopup="true"> <i class="si-icon-b-copylink">Copy Link</i> </button> </div> <button type="button" class="si-close" aria-label="Close" aria-expanded="false" aria-haspopup="false"> <i class="si-icon-b-close">Close</i> </button> </div> </div> </div> --> </div> <div class="si-body"> <div class="si-card-section swiper"> <div class="si-card-list swiper-wrapper"> <!-- add live ,upcoming and recent classes on card item as per status also add test,odi and t20 classes for format --> <div class="si-card-item swiper-slide" v-for="(match, idx) in widgetData.matchesToLoop" :key="match.match_id" :class="getCardItemClass(match)" > <div class="si-card-head"> <div class="si-head-wrap"> <div class="si-matchinfo"> <span class="si-date">{{matchDate(match, 'dd.mm.yyyy')}} -</span>{{match.tour_name}} - {{match.match_number}} </div> </div> <div class="si-match-details"> <span class="si-format">{{matchFormatText(match)}}</span> <!-- for live status will print live text --> <span class="si-text" v-if="match.match_status_id != 120" >{{widgetData.matchStateText[match.matchState]}}</span > </div> </div> <div class="si-card-body"> <div class="si-team-wrapper"> <!-- "active " for playing team "won" for winner team classes will add on "team"--> <div class="si-team si-team-a" :class="{'si-active': isBatting(match, match.teama_id), 'si-won': isTeamWon(match, match.teama_id)}" > <div class="si-team-info"> <img class="si-team-logo" :src="getTeamFlagImg(match.teama_id)" loading="lazy" :alt="match.teama" :onerror="getTeamFlagImg(match.teama_short, true)" /> <h3 class="si-team-name"> <span class="si-fname si-name">{{match.teama}}</span> <span class="si-sname si-name">{{match.teama_short}}</span> </h3> </div> <div class="si-team-data-wrap"> <div class="si-team-data"> <div class="si-team-score"> <!-- si-no-score class for yet to bat --> <!-- repeat span for second inning --> <span class="si-score si-no-score" v-if="!match.teamScore[match.teama_id].length && !!match.toss_won_by" > {{match.toss_won_by == match.teama_id && match.toss_elected_to == 'bat' ? '0/0' : showYetToBat(match,match.teama_id)}} </span> <template v-else> <span class="si-score" :class="{'si-no-score': !match.teamScore[match.teama_id].length}" v-for="(score, sIdx) in match.teamScore[match.teama_id]" :key="sIdx+'_teama'" > {{score.team_runs}}{{score.team_wickets == '10'? '': ('/'+ score.team_wickets) }} {{score?.is_declare? 'd':''}} {{score?.is_followon ? 'f/o' : ''}} {{sIdx != match.teamScore[match.teama_id].length-1 ? '& ': ''}} </span> </template> </div> <!-- team-extra for cricket --> <div class="si-team-extra" v-if="!match.teamScore[match.teama_id].length && match.toss_won_by == match.teama_id && match.toss_elected_to == 'bat'" > <span class="si-overs">(0.0)</span> </div> <div class="si-team-extra" v-if="match.teamScore[match.teama_id].length"> <span class="si-overs" >{{isDeclare(match, match.teama_id) ? '' : getOver(match, match.teama_id)}}</span > <!-- <span class="si-overs">({{match.teamScore[match.teama_id][match.teamScore[match.teama_id].length-1].team_overs}})</span> --> </div> </div> </div> </div> <!-- for upcoming scenario print this card-label --> <span class="si-card-label" v-if="match.match_id=='2396571' && match.matchState == 'U'">{{'TBC'}}</span> <span class="si-card-label" v-else-if="match.matchState == 'U' && !match.toss_won_by" >{{matchDate(match, 'HH:MM')}}</span > <!-- --> <div class="si-team si-team-b" :class="{'si-active': isBatting(match, match.teamb_id), 'si-won': isTeamWon(match, match.teamb_id)}" > <div class="si-team-info"> <img class="si-team-logo" :src="getTeamFlagImg(match.teamb_id)" loading="lazy" :alt="match.teamb" :onerror="getTeamFlagImg(match.teamb_short, true)" /> <h3 class="si-team-name"> <span class="si-fname si-name">{{match.teamb}}</span> <span class="si-sname si-name">{{match.teamb_short}}</span> </h3> </div> <div class="si-team-data-wrap"> <div class="si-team-data"> <div class="si-team-score"> <!-- si-no-score class for yet to bat --> <!-- repeat span for second inning --> <span class="si-score si-no-score" v-if="!match.teamScore[match.teamb_id].length && !!match.toss_won_by" > {{match.toss_won_by == match.teamb_id && match.toss_elected_to == 'bat' ? '0/0' : showYetToBat(match,match.teamb_id)}} </span> <template v-else> <span class="si-score" :class="{'si-no-score': !match.teamScore[match.teamb_id].length}" v-for="(score, sIdx) in match.teamScore[match.teamb_id]" :key="sIdx+'_teamb'" > {{score.team_runs}}{{score.team_wickets == '10'? '': ('/'+score.team_wickets) }} {{score?.is_declare? 'd':''}} {{score?.is_followon ? 'f/o' : ''}} {{sIdx != match.teamScore[match.teamb_id].length-1 ? '& ': ''}} </span> </template> </div> <!-- team-extra for cricket --> <div class="si-team-extra" v-if="!match.teamScore[match.teamb_id].length && match.toss_won_by == match.teamb_id && match.toss_elected_to == 'bat'" > <span class="si-overs">(0.0)</span> </div> <div class="si-team-extra" v-if="match.teamScore[match.teamb_id].length"> <span class="si-overs" >{{isDeclare(match, match.teamb_id) ? '' : getOver(match, match.teamb_id)}}</span > </div> </div> </div> </div> </div> <div class="si-card-text"> <!-- match-status will be used to print status and other messages --> <p v-if="match.match_id=='2396571' && match.matchState == 'U'">{{'Match yet to begin'}}</p> <p class="si-match-status" v-else-if="match.showStatus"> <template v-if="!priorityStatusIds.includes(Number(match.match_status_id)) && !!getMCDValue && !!getMCDValue(match) && !match.toss_won_by && match.matchState == 'U' && isValidTimer(match)" > Match starts in {{!!getMCDValue(match).days ? getMCDValue(match).days+'d' : ''}} {{(!getMCDValue(match).days && !getMCDValue(match).hours) ? '' : getMCDValue(match).hours+'h'}} {{getMCDValue(match).minutes+'m'}} </template> <template v-else-if="priorityStatusIds.includes(Number(match.match_status_id))"> {{modifyMatchStatus(getMatchStatus(match))}} </template> <template v-else> {{!!match.match_result ? match.match_result : modifyMatchStatus(getMatchStatus(match)) }} </template> </p> </div> <div class="si-card-footer"> <a v-if="match.matchState == 'R' && !!getMatchUrl(match, 'highlights')" :href="getMatchUrl(match, 'highlights')" :title="match.matchState == 'R' ? 'HIGHLIGHTS' : ''" class="si-btn-site" :style="bgStyle('border')" > <span class="si-btn-text">{{match.matchState == 'R' ? 'highlights' : ''}}</span> </a> <a v-if="match.matchState !== 'R' && !!getMatchUrl(match, 'highlights') && handleWatchLive(match)" :href="getMatchUrl(match, 'highlights')" :title="match.matchState !== 'R' ? 'WATCH LIVE' : ''" class="si-btn-site" :style="bgStyle('border')" > <span class="si-btn-text">{{match.matchState !== 'R' ? 'watch live' : ''}}</span> </a> <a v-if="!!getMatchUrl(match, 'matchcentre')" :href="getMatchUrl(match, 'matchcentre')" :title="'MATCH CENTRE'" class="si-btn-site" :style="bgStyle('border')" > <span class="si-btn-text">Match centre</span> </a> </div> </div> </div> <div class="si-card-item swiper-slide si-loadmore-wrap" v-if="!!widgetData.fixturePageUrl"> <a :href="widgetData.fixturePageUrl" :title="widgetData.fixtureSlideText" class="si-load-more" >{{widgetData.fixtureSlideText}}</a > </div> </div> <div class="swiper-pagination" v-if="widgetData.viewType === 'footer'"></div> <!-- If we need navigation buttons --> <div class="swiper-button-prev" v-if="widgetData.viewType !== 'footer' && !widgetData.swiperVertical"></div> <div class="swiper-button-next" v-if="widgetData.viewType !== 'footer' && !widgetData.swiperVertical"></div> </div> </div> </div> </div>
`)}catch(t){console.log("Failed to load widget",t)}}parseMatchesData(t,e=!1){const a=t.map(t=>{t.teams=[{team_id:t.teama_id,team_short_name:t.teama_short,team_name:t.teama},{team_id:t.teamb_id,team_short_name:t.teamb_short,team_name:t.teamb}],t.teamScore={[t.teama_id]:t.scores.filter(e=>e.team_id==t.teama_id),[t.teamb_id]:t.scores.filter(e=>e.team_id==t.teamb_id)},t.matchState={[t.live]:"L",[t.upcoming]:"U",[t.recent]:"R"}[!0]||"";return this.testIds.includes(Number(this.utils.getV2(t,"comp_type_id",0)))&&"R"!=t.matchState&&120==t.match_status_id&&(t.matchState="R"),t.showStatus=e,t}),i={L:a.filter(t=>"L"==t.matchState),R:a.filter(t=>"R"==t.matchState),U:a.filter(t=>"U"==t.matchState)};Object.keys(this.matchCounts).forEach(t=>{i[t]="R"==t?i[t].reverse().slice(0,this.matchCounts[t]):i[t].slice(0,this.matchCounts[t])});let s=[];return this.matchOrder.trim()?(s=[],this.matchOrder.split("").forEach(t=>{s=[...s,...i[t]]})):s=[...i.R,...i.L,...i.U],{matches:a,sortedMatches:i,matchesToLoop:s}}initializeSwiper(t){try{const e=`[data-wdtype="${this.wdType}"][data-viewtype="${this.viewType}"][data-wdid="${this.wdId}"]`,a=this.isMobile?"mobile":"web",i="footer"===this.viewType?this.widgetConfig.swiper_config:this.widgetConfig.swiper_config[a];if(!i&&!Object.keys(i).length)return;t.fixtureSwiper=new window.Swiper(e+" .si-card-section.swiper",{...i,...this.swiperVertical&&{direction:"vertical"}})}catch(t){}}getCountdownTimer(t,e,a,i){const s=new Date(t).getTime();e.countdownInterval[a]=setInterval((function(){const t=(new Date).getTime(),r=s-t;if(r<0)e.widgetData[a+"_countdown"]={days:0,hours:0,minutes:0,seconds:0},clearInterval(e.countdownInterval[a]);else{const t=Math.floor(r/864e5),s=Math.floor(r%864e5/36e5);let n=Math.floor(r%36e5/6e4);const o=Math.floor(r%6e4/1e3);o>0&&(n+=1),e.widgetData[a+"_countdown"]={days:t,hours:s,minutes:n,seconds:o},i.showStatus=!0}}),1e3)}initializeCountdown(t){t.widgetData.matchesToLoop.forEach(e=>{if("U"!==e.matchState||t.widgetData[e.match_id+"_countdown"])e.showStatus=!0;else{const{gmt_offset:a,match_date_gmt:i,match_time_gmt:s}=e;t.countdownInterval[""+e.match_id]="";const r=new Date(`${i} ${s} +00:00`);this.getCountdownTimer(r,t,e.match_id,e)}})}mountMarkup(t,e){const a=`[data-wdtype="${this.wdType}"][data-viewtype="${this.viewType}"][data-wdid="${this.wdId}"]`;let s={customNames:{[this.selectedLang]:window.SIWidget.customNames},translations:{[this.selectedLang]:window.SIWidget.translations}},r={clientConfig:this.config,clientCache:s,widgetData:t,widgetConfig:this.widgetConfig,widgetNode:this.widgetConfig,selectedLang:this.selectedLang,templateMarkup:e},n=i(r,window.Vue,window.SIWidget.utils);Vue.createApp&&(n=n.mount(a)),n.widgetData.isTooltip=!1,n.widgetData.isMobile=this.isMobile,n.countdownInterval={};const o=async(t=this.widgetConfig.dataApis)=>{try{let{matches:e}=await this.utils.fetchData(t,{QUERY:this.queryArray.join("&")});e=e.data.matches,n.widgetData={...n.widgetData,...this.parseMatchesData(e,!0)}}catch(t){console.log("Failed to fetch apis",t)}};Vue.createApp||n.$mount(this.widgetConfig.container,!0),this.initializeCountdown(n),setTimeout(()=>{this.initializeSwiper(n)},600),document.querySelector(a).addEventListener("touchstart",(function(t){t.touches.length>1&&t.preventDefault()}),!1);const l=setInterval(async()=>{try{await o(),n.fixtureSwiper.updateSlides(),n.fixtureSwiper.updateSize()}catch(t){}},1e3*this.config.refreshInterval);window.widgetIntervals.push(l)}}},function(module,exports){let instanceCreator={fullFixture:(params,Vue,utils)=>{let{templateMarkup:templateMarkup,widgetData:widgetData,selectedLang:selectedLang,widgetConfig:widgetConfig,widgetNode:widgetNode,clientCache:clientCache,clientConfig:clientConfig}=params;const{getV2:getV2,getDateTime:getDateTime}=utils;let config={data:()=>({widgetData:widgetData,widgetNode:widgetNode,selectedLang:selectedLang,widgetConfig:widgetConfig,priorityStatusIds:[11,12,13,14,15,16,17,18,19,110,111,112,113,116,118,120,122,123,124,125,126,130,131,154]}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:getV2,getDateTime:getDateTime,getGeoLocation(){try{const t={method:"HEAD",redirect:"follow",mode:"cors"};let e="dev"==this.widgetConfig.env?"dev_geoLocation":"geoLocation";fetch(widgetNode.dataApis.datesApi[e].api,t).then(t=>{this.userCountry=t.headers.get("X-Akamai-Cc")||""}).catch(t=>console.error(t))}catch(t){console.log("Error in getGeoLocation",t)}},showYetToBat:(t,e)=>["113","131"].includes(t.match_status_id)?t.teamScore[e].length?void 0:"":"Yet to bat",getTeamFlagImg(t,e){if(e){const e="tbc"==t.toLowerCase();return`this.onerror=null;this.src='${clientConfig.common_apis.TEAM_IMG.replace("{{TEAM_ID}}",e?"0":"00")}';`}return utils.getTeamFlag(clientConfig.common_apis.TEAM_IMG,t)},getCardItemClass(t){let{match_type:e,matchState:a}=t;const i={L:"live",R:"recent",U:"upcoming"};return t.toss_won_by&&(i.U=""),`${e.toLowerCase()} ${i[a]||""}`},matchDate(t,e){const{gmt_offset:a,match_date_gmt:i,match_time_gmt:s}=t;let r=`${i} ${s} +00:00`;return r=getDateTime(r,e),r},matchFormatText(t){const{match_type:e,league_id:a,comp_type_id:i}=t;if(Object.keys(this.getV2(this.widgetData,"compLabels",{})).length)return this.widgetData.compLabels[i]||this.widgetData.compLabels.others;if(9==a){let t=e.toLowerCase();if(t.includes("warm-up youth"))return"Warm-up";if(t.includes("youth odi"))return"ODI";if(t.includes("youth test"))return"Test";if(t.includes("youth t20"))return"T20"}return e},isBatting(t,e){if(!t.scores.length||"R"==t.matchState)return!1;const{scores:a,current_innings:i}=t,s=a.find(t=>t.inning_no==i);return s&&s.team_id==e},isTeamWon:(t,e)=>!!t.winning_team_id&&t.winning_team_id==e,getLatestOvers(t,e){return t!=e.length-1?"":this.getV2(e,`[${t}].team_overs`,!1)?`(${e[t].team_overs})`:""},getMatchStatus(t){let e=t.match_status;const a=()=>{!e.toLowerCase().includes("match begins")&&e||(e="Match starts at "+this.matchDate(t,"HH:MM"))};return this.priorityStatusIds.includes(Number(t.match_status_id))||t.has_super_over?(a(),e):(e=t.match_sub_status?t.match_sub_status:e,a(),e)},getCalendarText(){const{dateRange:dateRange,minMatchDate:minMatchDate,maxMatchDate:maxMatchDate}=this.widgetData;if(window.dateRange=dateRange,dateRange.length){const t=getDateTime(dateRange[0],"d mmm"),e=!!dateRange[1]&&getDateTime(dateRange[1],"d mmm");return t||e?`${t} ${e?"- "+e:""}`:"Select Date"}if(minMatchDate&&maxMatchDate){let isFalsy=!1,minDate=JSON.stringify(minMatchDate),maxDate=JSON.stringify(maxMatchDate);return eval(minDate)&&eval(maxDate)||(isFalsy=!0),isFalsy?"Select Date":`${getDateTime(minMatchDate,"d mmm")} - ${getDateTime(maxMatchDate,"d mmm")}`}return"Select Date"},async loadGoogleCalendar(t,e,a){try{await this.loadGoogleAPI(),await this.initGoogleAPI(),await this.authorizeAndLoadEvents(t,e,a)}catch(t){console.error("Error loading Google Calendar:",t)}},loadGoogleAPI:async()=>new Promise((t,e)=>{if(window.gapi)t();else{const a=document.createElement("script");a.src="https://apis.google.com/js/api.js?onload=initGoogleAPI",a.onload=t,a.onerror=e,document.head.appendChild(a)}}),initGoogleAPI:async()=>new Promise(t=>{gapi.load("client",{callback:t})}),clearCalendarSyncStatus(){const t=this;setTimeout(()=>{t.widgetData.calendarSyncStatus=""},5e3)},async authorizeAndLoadEvents(t,e,a){if(!(window.gapi&&t.length&&e&&a))return;const i=t[0],s=t[t.length-1],r=this;gapi.load("client",()=>{r.widgetData.calendarSyncStatus="Adding match events...",gapi.client.init({apiKey:a,clientId:e,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar",plugin_name:"https://apis.google.com/js/api.js"}).then(()=>{const e=gapi.auth2.getAuthInstance();if(!e)return console.error("Error: Auth not initialized");e.signIn().then(()=>{gapi.client.calendar.events.list({calendarId:"primary",timeMin:`${i.eventDate}T${i.startTime}`,timeMax:`${s.eventDate}T${s.endTime}`,showDeleted:!1,singleEvents:!0,orderBy:"startTime"}).then(e=>{const a=e.result.items,i=gapi.client.newBatch(),s=a.map(t=>t.summary),n=t.filter(t=>!s.includes(t.eventName));if(!n.length)return r.widgetData.calendarSyncStatus="Events Added!",void r.clearCalendarSyncStatus();n.forEach(t=>{const e=new Date(t.eventDate+"T"+t.startTime),a=new Date(t.eventDate+"T"+t.endTime),s={summary:t.eventName,start:{dateTime:new Date(e.toISOString())},end:{dateTime:new Date(a.toISOString())}};i.add(gapi.client.calendar.events.insert({calendarId:"primary",resource:s}))}),i.execute((function(t){t?(r.widgetData.calendarSyncStatus="Events Added!",r.clearCalendarSyncStatus()):(console.error("Error adding events:",t),r.widgetData.calendarSyncStatus="Failed to add events",r.clearCalendarSyncStatus())}))}).catch(t=>{r.widgetData.calendarSyncStatus="Failed to add events",r.clearCalendarSyncStatus()})}).catch(t=>{"popup_closed_by_user"==t.error?(r.widgetData.calendarSyncStatus="Login required to add events",r.clearCalendarSyncStatus()):(r.widgetData.calendarSyncStatus="Something went wrong",r.clearCalendarSyncStatus())})})})},getMatchUrl:(t,e)=>"matchcentre"==e?getV2(t,"other_info.match_center",""):"highlights"==e?"R"==t.matchState?getV2(t,"other_info.high_light",""):getV2(t,"other_info.watch_live",""):void 0,getTicketUrl:t=>getV2(t,"other_info.ticket_link",""),hideTicketBtn(t){const{gmt_offset:e,match_date_gmt:a,match_time_gmt:i}=t;const s=new Date(getDateTime(`${a} ${i} +00:00`)),r=new Date(s.getTime()-108e5);return new Date>=r},handleWatchLive:t=>!!widgetData.isUserVIP||(t.other_info.blacklisted_countries?!widgetData.userCountry||!t.other_info.blacklisted_countries.toLowerCase().includes(widgetData.userCountry.toLowerCase()):!t.other_info.whitelisted_countries||!(!widgetData.userCountry||!t.other_info.whitelisted_countries.toLowerCase().includes(widgetData.userCountry.toLowerCase()))),getFilteredVenues(){try{if(""===this.widgetData.searchTerm)return this.widgetData.venuesToLoop;let t=Object.values(this.widgetData.venues).filter(t=>t.toLowerCase().replace(/\s+/g,"").includes(this.widgetData.searchTerm.toLowerCase().replace(/\s+/g,"")));return Object.keys(this.widgetData.venues).filter(e=>t.includes(this.widgetData.venues[e]))}catch(t){return console.log(t),[]}},getFilteredTeams(){try{if(""===this.widgetData.searchTerm)return this.widgetData.teamsToLoop;let t=Object.values(this.widgetData.teams).filter(t=>t.toLowerCase().replace(/\s+/g,"").includes(this.widgetData.searchTerm.toLowerCase().replace(/\s+/g,"")));return Object.keys(this.widgetData.teams).filter(e=>t.includes(this.widgetData.teams[e]))}catch(t){return console.log(t),[]}},modifyMatchStatus:t=>t.replace(/\bbegins\b/g,"start")},template:templateMarkup},vueInstance;return vueInstance="function"==typeof Vue.createApp?Vue.createApp(config):new Vue(config),vueInstance},fixtureStrip:(t,e,a)=>{let{templateMarkup:i,widgetData:s,widgetConfig:r,selectedLang:n,widgetNode:o,clientCache:l,clientConfig:c}=t;const{getV2:d,getDateTime:h}=a;let g,m={data:()=>({widgetData:s,selectedLang:n,widgetConfig:r,widgetNode:o,priorityStatusIds:[11,12,13,14,15,16,17,18,19,110,111,112,113,116,118,120,122,123,124,125,126,130,131,154]}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},computed:{},methods:{getV2:d,getDateTime:h,showYetToBat:(t,e)=>["113","131"].includes(t.match_status_id)?t.teamScore[e].length?void 0:"":"Yet to bat",handleWatchLive:t=>!!s.isUserVIP||(t.other_info.blacklisted_countries?!s.userCountry||!t.other_info.blacklisted_countries.toLowerCase().includes(s.userCountry.toLowerCase()):!t.other_info.whitelisted_countries||!(!s.userCountry||!t.other_info.whitelisted_countries.toLowerCase().includes(s.userCountry.toLowerCase()))),matchDate(t,e){const{gmt_offset:a,match_date_gmt:i,match_time_gmt:s}=t;let r=`${i} ${s} +00:00`;return r=h(r,e),r},bgStyle(t){try{const{bgConfig:e}=s;if("border"===t&&e.themecolor){let t=`border: 1px solid ${e.themecolor};`;return e.color&&(t+=`background:${e.color};`),t}if("border"===t&&!e.themecolor)return"";let a="color: #FFFFFF;";return"rgb(255, 255, 255)"!==e.color&&""!==e.color&&"#fff"!==e.color&&"#ffffff"!==e.color&&"#FFFFFF"!==e.color&&"#FFF"!==e.color&&"white"!==e.color||(a=""),e.color&&(a+=`background:${e.color};`),e.image&&(a+=`background-image: url(${e.image});`,a+=" background-repeat:no-repeat;background-position:bottom left;"),a}catch(t){return console.log(t),""}},getTeamFlagImg(t,e){if(e){const e="tbc"==t.toLowerCase();return`this.onerror=null;this.src='${c.common_apis.TEAM_IMG.replace("{{TEAM_ID}}",e?"0":"00")}';`}return a.getTeamFlag(c.common_apis.TEAM_IMG,t)},matchFormatText(t){const{match_type:e,league_id:a,comp_type_id:i}=t;if(Object.keys(this.getV2(this.widgetData,"compLabels",{})).length)return this.widgetData.compLabels[i]||this.widgetData.compLabels.others;if(9==a){let t=e.toLowerCase();if(t.includes("warm-up youth"))return"Warm-up";if(t.includes("youth odi"))return"ODI";if(t.includes("youth test"))return"Test";if(t.includes("youth t20"))return"T20"}return e},getCardItemClass(t){let{match_type:e,matchState:a}=t;return`${e.toLowerCase()} ${{L:"live",R:"recent",U:"upcoming"}[a]||""}`},isBatting(t,e){if(!t.scores.length||"R"==t.matchState)return!1;const{scores:a,current_innings:i}=t,s=a.find(t=>t.inning_no==i);return s&&s.team_id==e},isTeamWon:(t,e)=>!!t.winning_team_id&&t.winning_team_id==e,getMCDValue(t){return this.widgetData[t.match_id+"_countdown"]},isValidTimer(t){const e=this.getMCDValue(t);if(!e)return!1;const{days:a,hours:i,minutes:s}=e;return!!a||!!i||!!s},getMatchStatus(t){let e=t.match_status;return this.priorityStatusIds.includes(Number(t.match_status_id))||t.has_super_over?e:t.match_sub_status?t.match_sub_status:e},modifyMatchStatus:t=>t.replace(/\bbegins\b/g,"start").replace(/\bat\b/g,"in"),getMatchUrl:(t,e)=>"matchcentre"==e?d(t,"other_info.match_center",""):"highlights"==e?"R"==t.matchState?d(t,"other_info.high_light",""):d(t,"other_info.watch_live",""):void 0,isDeclare(t,e){const a=t.teamScore[e][t.teamScore[e].length-1];return!!a&&!!a.is_declare},getOver(t,e){const a=t.teamScore[e][t.teamScore[e].length-1];return a&&a.team_overs?`(${a.team_overs})`:""}},template:i};return g="function"==typeof e.createApp?e.createApp(m):new e(m),g},rankingsStrip:(t,e,a)=>{let{wdId:i,templateMarkup:s,rankingsData:r,wdFullPagUrl:n,playerImgType:o,widgetData:l,wdStripType:c,selectedLang:d,wdPlayersCount:h,wdFavTeam:g,wdFavPlayers:m,selectedTab:u,wdStripTitle:p,wdHasTabs:w,clientCache:D,clientConfig:y}=t;const{getV2:f}=a;let b,I={data:()=>({wdId:i,rankingsData:r,wdFullPagUrl:n,wdStripType:c,widgetData:l,wdHasTabs:w,wdFavTeam:g,wdFavPlayers:m,wdPlayersCount:h,wdStripTitle:p,selectedLang:d,selectedTab:u,selctedSoclShare:null}),computed:{getWidgetType(){return"team"===this.wdStripType.toLowerCase()},widgetTypeClass(){return this.getWidgetType?"si-team-ranking":"si-player-ranking"},getFavourites(){const t={team:"wdFavTeam",bat:"wdFavPlayers",bowl:"wdFavPlayers",allrounder:"wdFavPlayers"}[this.wdStripType.toLowerCase()]||"";return t?this[t].split(","):[]},compMatches(){return"m"==this.selectedTab.toLowerCase()?Object.keys(r).filter(t=>!t.endsWith("w")).reduce((t,e)=>{const a=r[e].data["bat-rank"];return a.rank=a.rank.splice(0,this.wdPlayersCount),t[e]=r[e],t},{}):Object.keys(r).filter(t=>t.endsWith("w")).reduce((t,e)=>{const a=r[e].data["bat-rank"];return a.rank=a.rank.splice(0,this.wdPlayersCount),t[e]=r[e],t},{})}},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:f,parseCardClass:t=>t.endsWith("w")?t.slice(0,-1):t,getRankType(t,e){const a=t[e].data["bat-rank"]["rank-type"].replace("-"," - ")+" Rankings";let i=a.split("-")[0];i.includes("w")&&(i=i.replace("w",""));return(i+"-"+a.split("-")[1]).split("-")},getTeamFlagImg:t=>a.getTeamFlag(y.common_apis.TEAM_IMG,t),getPlayerImg(t){let e="",a="";if(o.includes("series-")){const[t,i]=o.split("-");a=t,e=i}e||(a="generic");return this.getV2(y,`common_apis.icc_player_img.${a}.portrait`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},getPlayerNameFont(t,e){try{if(0!=e)return;let a=[];if(-1!==t.indexOf(" ")){let[e,...i]=t.split(" ");a=[e,i.join(" ")]}else a=[t,""];if(window.innerWidth<=375)return a[0].length>12||a[1].length>12?"font-size:10px":a[0].length>=10||a[1].length>=10?"font-size:12px":"";if(window.innerWidth<=400&&(a[0].length>=12||a[1].length>=12))return"font-size:12px"}catch(t){return""}},getPlayerName(t){try{if(-1!==t.indexOf(" ")){let[e,...a]=t.split(" ");return[e,a.join(" ")]}return[t,""]}catch(t){return""}},getCurrentPosition(t,e){if("class"==e){if("( - )"==t)return"neutral";if(t&&t.includes("+"))return"up";if(t&&t.includes("-"))return"down"}if("rank"==e&&t&&"( - )"!=t){let e=t.match(/[+-]?\d+/);if(e)return e[0].replace(/[+-]/,"")}},handelSocialShare(t,e){this.selctedSoclShare="show"==e?t:null},getMetaContent(t){let e=document.getElementsByTagName("meta"),a=new RegExp("\\b"+t+"\\b","i");for(let t of e)if(a.test(t.getAttribute("name"))||a.test(t.getAttribute("property")))return t.getAttribute("content");return""},shareOnFb(t){window.open("//www.facebook.com/sharer/sharer.php?u="+t.url+"&picture=","pop","width=600, height=400, scrollbars=no")},shareOnWhatsApp(t){window.location="https://wa.me/?text="+encodeURIComponent(t.url)},shareOnTwitter(t){const e="https://twitter.com/intent/tweet?text="+t.postTitle+" "+t.url;window.open(e,"Share_Page","width=600,height=400, scrollbars=no, resizable=no, top=250, left=250",!1)},copyText(t){let e;var a,i,s;a=t.url,e=document.createElement("textArea"),e.readOnly=!0,e.contentEditable="true",e.value=a,document.body.appendChild(e),navigator.userAgent.match(/ipad|iphone/i)?((i=document.createRange()).selectNodeContents(e),null!=(s=window.getSelection())&&(s.removeAllRanges(),s.addRange(i)),e.setSelectionRange(0,999999)):e.select(),document.execCommand("copy"),document.body.removeChild(e)},share(t){if(window.isMobile)return;let e=this.getMetaContent("og:url"),a={postText:this.getMetaContent("og:decscription"),postTitle:this.getMetaContent("og:title"),url:e};"fb"===t?this.shareOnFb(a):"twitter"===t?this.shareOnTwitter(a):"whatsapp"===t?this.shareOnWhatsApp(a):"copy"===t&&this.copyText(a)},getFullRankingUrl(t){return this.wdFullPagUrl.split(",")[t]},getSerialNo:t=>t<10?"0"+t:t.toString()},template:s};return b="function"==typeof e.createApp?e.createApp(I):new e(I),b},fullRankings:(t,e,a)=>{let{templateMarkup:i,rankingsData:s,playerImgType:r,widgetData:n,wdStripType:o,selectedLang:l,wdPlayersCount:c,wdFavTeam:d,wdFavPlayers:h,wdStripTitle:g,wdCurrtGenTab:m,wdCurrtCompType:u,wdTabs:p,wdStartYear:w,wdEndYear:D,wdStartMonth:y,wdEndMonth:f,wdTotalTabs:b,widgetNode:I,clientCache:T,clientConfig:_}=t;const{getV2:v,getDateTime:S}=a;let C,M={data:()=>({wdTabs:p,wdStartYear:w,wdEndYear:D,wdStartMonth:y,wdEndMonth:f,widgetNode:I,wdTotalTabs:b,rankingsData:s,wdStripType:o,widgetData:n,wdFavTeam:d,wdFavPlayers:h,wdPlayersCount:c,wdStripTitle:g,selectedLang:l,wdCurrtGenTab:m,wdCurrtCompType:u,selctedSoclShare:null,currtGender:"",currtCompType:"",configPlaceholders:{"{{GENDER}}":"","{{FORMAT}}":""},visibleRankingsRec:[],showMore:!0,calcYears:[],calcMonths:[],calcDays:0,filterFields:{yearInput:{flag:!1,value:""},monthInput:{flag:!1,value:""},dayInput:{flag:!1,value:""}},isDisabled:!0,showRestBtn:!1,isloading:!0,filterDate:""}),computed:{showLoadMoreLessButton(){try{return!(this.visibleRankingsRec.length<this.wdPlayersCount)}catch(t){return!0}},getGenderTabs(){const t=[];return this.wdTabs.split(",").map(e=>{t.push({code:e,descr:"m"==e?"Mens":"Womens"})}),t},getTabFormats(){const t=[];return this.wdTotalTabs.split(",").map(e=>{t.push({code:e,descr:"t20"==e?"t20i":e})}),t},compTypeClass(){return this.wdCurrtCompType.endsWith("w")?this.wdCurrtCompType.slice(0,-1):this.wdCurrtCompType},getPageTitle(){let t=this.currtCompType.endsWith("w")?this.currtCompType.slice(0,-1):this.currtCompType;return t="t20"==t?"t20i":t,this.currtGender+" "+t+" "+this.wdStripTitle.split(" ").slice(2).join(" ")},getWidgetType(){return"team"===this.wdStripType.toLowerCase()},widgetTypeClass(){return this.getWidgetType?"si-team-ranking":"si-player-ranking"},getFavourites(){const t={team:"wdFavTeam",bat:"wdFavPlayers",bowl:"wdFavPlayers",allrounder:"wdFavPlayers"}[this.wdStripType.toLowerCase()]||"";return t?this[t].split(","):[]}},created(){this.getWdTitle(),this.getWidgetData(),this.calcFilters(null)},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:v,getDateTime:S,getLastUpdatedDate(){let t=null;return this.rankingsData&&Object.keys(this.rankingsData).length&&Object.keys(this.rankingsData).forEach(e=>{this.rankingsData[e]&&(t=this.rankingsData[e].data["bat-rank"].rank_date)}),t?this.getDateTime(t,"dd mmmm yyyy"):""},openDropdown(t){Object.keys(this.filterFields).forEach(e=>{t==e?this.filterFields[t].flag=!this.filterFields[t].flag:this.filterFields[e].flag=!1})},closeDropdowns(){Object.keys(this.filterFields).forEach(t=>{this.filterFields[t].flag&&(this.filterFields[t].flag=!1)})},getMonthsInRange(t,e){"*"==e&&(e="december");const a=["January","February","March","April","May","June","July","August","September","October","November","December"];t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),e=(e||t).charAt(0).toUpperCase()+(e||t).slice(1).toLowerCase();const i=a.indexOf(t),s=a.indexOf(e);return-1===i||-1===s?"Invalid month input":a.slice(Math.min(i,s),Math.max(i,s)+1)},resetFilters(){this.filterDate="",this.showRestBtn=!1,this.isDisabled=!0;for(const t in this.filterFields)this.filterFields.hasOwnProperty(t)&&(this.filterFields[t].value="");this.visibleRankingsRec.length=0,this.getWidgetData(!1,"")},applyFilter(){const t=this;this.showRestBtn=!0;const e={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12};function a(t){return(t<10?"0":"")+t}function i(){return t.filterFields.yearInput.value+""+a(e[t.filterFields.monthInput.value])+a(t.filterFields.dayInput.value)}this.filterDate=i(),this.getWidgetData(!0,i())},setFilterValues(t,e){this.filterFields[t].flag=!1,this.filterFields[t].value=e,this.filterFields.yearInput.value&&this.filterFields.monthInput.value&&this.filterFields.dayInput.value&&(this.isDisabled=!1)},calcFilters(t){t||("*"==this.wdEndYear&&(this.wdEndYear=(new Date).getFullYear()),this.calcYears=Array.from({length:Number(this.wdEndYear)-Number(this.wdStartYear)+1},(t,e)=>Number(this.wdStartYear)+e),this.getMonthsInRange(this.wdStartMonth,this.wdEndMonth).map(t=>{this.calcMonths.push(t)}));const e=t||this.calcMonths[0];this.calcDays={January:31,February:28,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31}[e]},getWdTitle(){this.wdStripTitle.replace(/{{(GENDER|FORMAT)}}/g,(t,e)=>{"GENDER"==e?this.currtGender="m"==this.wdCurrtGenTab?"Men's":"Women's":this.currtCompType=this.wdCurrtCompType})},handleTabChange(t,e){"{{GENDER}}"==t?(this.wdCurrtGenTab=e,this.currtGender="m"==e?"Men's":"Women's","w"==e&&"test"==this.wdCurrtCompType&&(this.currtCompType=this.wdTotalTabs.split(",")[0]+"w")):this.currtCompType=e,this.wdCurrtCompType=this.currtGender.toLowerCase().includes("women")?this.currtCompType.endsWith("w")?this.currtCompType:this.currtCompType+"w":this.currtCompType.endsWith("w")?this.currtCompType.slice(0,-1):this.currtCompType,this.currtCompType=this.wdCurrtCompType,this.visibleRankingsRec.length=0,this.showMore=!0,this.getWidgetData(!0,this.filterDate)},loadMoreRecords(){try{if(this.showMore){const t=this.visibleRankingsRec.length,e=t+Number(this.wdPlayersCount);this.rankingsData[this.currtCompType].data&&this.rankingsData[this.currtCompType].data["bat-rank"].hasOwnProperty("rank")?(this.visibleRankingsRec=[...this.visibleRankingsRec,...this.rankingsData[this.currtCompType].data["bat-rank"].rank.slice(t,e)],this.visibleRankingsRec.length==this.rankingsData[this.currtCompType].data["bat-rank"].rank.length&&(this.showMore=!1)):this.visibleRankingsRec.length=0}else this.showMore=!0,this.visibleRankingsRec.length=0,this.rankingsData[this.currtCompType].data?this.visibleRankingsRec=[...this.visibleRankingsRec,...this.rankingsData[this.currtCompType].data["bat-rank"].rank.slice(0,Number(this.wdPlayersCount))]:this.visibleRankingsRec.length=0}catch(t){console.log("Error occured in loadMoreRecords",t)}},getCountryShortName(t){let e="";return e=this.getWidgetType?t.shortname||t.Country||t.team_name:t.Country||t.Country_name||t.team_name,e},getTeamFlagImg:t=>a.getTeamFlag(_.common_apis.TEAM_IMG,t),getPlayerImg(t){let e="",a="";if(r.includes("series-")){const[t,i]=r.split("-");a=t,e=i}e||(a="generic");return this.getV2(_,`common_apis.icc_player_img.${a}.portrait`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},handleTabVisible(t){return!(this.currtGender.toLowerCase().includes("women")&&"test"===t)},getPlayerName(t){if(-1!==t.indexOf(" ")){let[e,...a]=t.split(" ");return[e,a.join(" ")]}return[t,""]},getCurrentPosition(t,e){if("class"==e){if("( - )"==t)return"neutral";if(t&&t.includes("+"))return"up";if(t&&t.includes("-"))return"down"}if("rank"==e&&t&&"( - )"!=t){let e=t.match(/[+-]?\d+/);if(e)return e[0].replace(/[+-]/,"")}},handelSocialShare(t,e){this.selctedSoclShare="show"==e?t:null},getMetaContent(t){let e=document.getElementsByTagName("meta"),a=new RegExp("\\b"+t+"\\b","i");for(let t of e)if(a.test(t.getAttribute("name"))||a.test(t.getAttribute("property")))return t.getAttribute("content");return""},shareOnFb(t){window.open("//www.facebook.com/sharer/sharer.php?u="+t.url+"&picture=","pop","width=600, height=400, scrollbars=no")},shareOnWhatsApp(t){window.location="https://wa.me/?text="+encodeURIComponent(t.url)},shareOnTwitter(t){const e="https://twitter.com/intent/tweet?text="+t.postTitle+" "+t.url;window.open(e,"Share_Page","width=600,height=400, scrollbars=no, resizable=no, top=250, left=250",!1)},copyText(t){let e;var a,i,s;a=t.url,e=document.createElement("textArea"),e.readOnly=!0,e.contentEditable="true",e.value=a,document.body.appendChild(e),navigator.userAgent.match(/ipad|iphone/i)?((i=document.createRange()).selectNodeContents(e),null!=(s=window.getSelection())&&(s.removeAllRanges(),s.addRange(i)),e.setSelectionRange(0,999999)):e.select(),document.execCommand("copy"),document.body.removeChild(e)},share(t){if(window.isMobile)return;let e=this.getMetaContent("og:url"),a={postText:this.getMetaContent("og:decscription"),postTitle:this.getMetaContent("og:title"),url:e};"fb"===t?this.shareOnFb(a):"twitter"===t?this.shareOnTwitter(a):"whatsapp"===t?this.shareOnWhatsApp(a):"copy"===t&&this.copyText(a)},getSerialNo:t=>t<10?"0"+t:t.toString(),async getWidgetData(t,e){try{const i=this;function a(){return i.widgetNode.dataApis.rankingMatchFormats.api.replace("{{CLIENTID}}",i.widgetNode.client_id).replace("{{COMPTYPE}}",i.wdCurrtCompType).replace("{{TYPE}}",i.wdStripType).replace("{{LANG}}",i.selectedLang)}i.isloading=!0;let s={};if(t)i.visibleRankingsRec.length=0,s[i.wdCurrtCompType]=a().replace("{{DATE}}",e);else{s[i.wdCurrtCompType]=function(t,e){const a=new URL(t);return a.searchParams.delete(e),a.toString()}(a(),"date")}i.rankingsData.length=0,i.rankingsData=await window.SIWidget.utils.fetchData(s,{}),i.loadMoreRecords(),i.rankingsData[i.currtCompType].data&&(i.isloading=!1)}catch(t){console.log("Error occured in getWidgetData",t)}}},template:i};return C="function"==typeof e.createApp?e.createApp(M):new e(M),C},mastHead:(t,e,a)=>{let{templateMarkup:i,mastHeadData:s,wdGameId:r,selectedLang:n,playerImgType:o,widgetData:l,widgetNode:c,clientCache:d,viewType:h,clientConfig:g,widgetConfig:m}=t;const{getV2:u,getDateTime:p}=a;let w,D={data:()=>({widgetNode:c,clientConfig:g,mastHeadData:s,widgetData:l,wdGameId:r,viewType:h,selectedLang:n,widgetConfig:m,isloading:!1,statusId:0,intervalId:null,t20OdiTypeCompIds:[2,3,5,6,7,12,13,15,16,22,23,42,43,52,53,102,103,61,62,63,72,73,82,83],testTypeCompIds:[1,4,11,14,21,71,81,130,101],matchEnderIds:[113,114,128,129,130,131,150,160],matchAbandonedIds:[113,11,12,13,14,15,16,19,111,116,118,123,124,126,131],matchBreakIds:[17,18,119,122,112,170],matchDayMnthTime:"",matchVenue:"",matchTemperature:0,matchSeries:"",matchStatus:"",countdownIntervalId:null,isMatchLive:!1,timeInGMT:"",isTimeInGMT:!1,isTeamScore:!1,isOverStatus:!1,isPlayerDetails:!1,matchType:"",matchOvers:"",playerOfMatch:{},playerOfSeries:{},playerOfSeries2:{},matchAbandonedMsg:{11:"Interruption",12:"Interruption",13:"Interruption",14:"Interruption",15:"Interruption",16:"Interruption",19:"Interruption",111:"Interruption",116:"Interruption",118:"Interruption",123:"Interruption",124:"Interruption",126:"Interruption",113:"Abandoned",130:"Abandoned",131:"Abandoned"},batsmenPlaying:[],blowerPlaying:[],isMatchAbandoned:!1,isSuperOver:!1,t20OdiMatchDetail:[],testMatchDetail:[],overByOverData:[],currentOverData:[],scoreSequence:[],mtchInningId:"",match_center:"",watch_live:"",highlight:"",playerMatchType:"",matchEndPollingId:null,elapsedTime:0,isMatchTie:!1,wheatherClass:"",playerOfMatchList:[],hideGeoWatchLive:!1}),computed:{isTransMasthead(){return"transparent_masthead"==this.viewType},matchStatusClass(){return[117,127,121,110].includes(Number(this.statusId))||this.matchBreakIds.includes(Number(this.statusId))?"si-live":[125,115].includes(Number(this.statusId))?"si-upcoming":114==this.statusId?"si-recent":this.matchAbandonedIds.includes(Number(this.statusId))?[113,131].includes(this.statusId)?this.mastHeadData.hasOwnProperty("Innings")?"si-recent":"si-upcoming":2==this.mastHeadData.Matchdetail.Lineup_status?"si-live":"si-upcoming":[113,130,131].includes(Number(this.statusId))?"si-upcoming":void 0},hideTimeForSeriesId(){try{return"6122"==this.mastHeadData.Matchdetail.Series.Id}catch(t){return!1}}},created(){this.getWidgetData()},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t,window.widgetIntervals.push(this.intervalId)},methods:{getV2:u,updateMatchStatusId(t){const e=Number(t);let a="";this.mastHeadData.hasOwnProperty("Innings")&&this.mastHeadData.Innings.map(t=>{a=t.Number}),this.isMatchAbandoned=!1,this.showTimeGmt(),this.showTeamScore(),this.showOverStatus(),this.showPlayerDetails(),117!=e&&this.setPreMatchDetails(),this.handleMatchLive(e),115==e?(this.isMatchLive=!1,this.isTimeInGMT=!0,this.countdownIntervalId||(this.countdownIntervalId=setInterval(this.updateTimeRemaining,1e3)),window.widgetIntervals.push(this.countdownIntervalId)):[127].includes(e)?(clearInterval(this.countdownIntervalId),this.setTossDetails(),this.isTimeInGMT=!1,this.isTeamScore=!0,this.matchStatus=this.getMatchStatus()):[117].includes(e)&&"First"==a?(this.isTeamScore=!0,this.matchStatus=this.getMatchStatus()):117==e&&"First"!==a?(this.isTeamScore=!0,this.matchStatus=this.mastHeadData.Matchdetail.Equation):121==e?this.mastHeadData.hasOwnProperty("Superovers")?(this.isMatchTie=!1,this.$nextTick(()=>{this.mastHeadData.Superovers.map(t=>{this.matchStatus=t.Equation}),this.matchStatus||(this.matchStatus=this.mastHeadData.Matchdetail.Status)})):(this.isMatchTie=!0,this.$nextTick(()=>{this.matchStatus=this.mastHeadData.Matchdetail.Status})):this.matchAbandonedIds.includes(e)?([113,131].includes(e)?(this.isMatchLive=!1,this.isMatchAbandoned=!0,this.isTimeInGMT=!1,this.mastHeadData.hasOwnProperty("Innings")&&(this.isTeamScore=!0,this.setMatchScores())):this.mastHeadData.hasOwnProperty("Innings")||this.mastHeadData.hasOwnProperty("Tosswonby")&&this.mastHeadData.Tosswonby?(this.isTeamScore=!0,this.isTimeInGMT=!1,this.isMatchAbandoned=!1,this.setMatchScores()):(this.isTimeInGMT=!0,this.isMatchAbandoned=!1),this.matchStatus=this.mastHeadData.Matchdetail.Status):this.matchEnderIds.includes(e)?([113,130,131].includes(e)&&(this.isMatchAbandoned=!0,this.isTimeInGMT=!1,this.isMatchLive=!1),this.mastHeadData.hasOwnProperty("Innings")&&this.setMatchScores(),this.setPlayerOfMatch(),this.mastHeadData.hasOwnProperty("Matchequation")?this.matchStatus=this.mastHeadData.Matchequation.Equation:this.matchStatus=this.mastHeadData.Matchdetail.Status):110==e||120==e?(this.isTeamScore=!0,this.setMatchScores(),this.matchStatus=this.mastHeadData.Matchdetail.Status):125==e?(this.isTimeInGMT=!0,this.matchStatus=this.mastHeadData.Matchdetail.Status):this.matchBreakIds.includes(e)&&(this.isTeamScore=!0,this.isMatchLive=!0,this.setMatchScores(),this.matchStatus=this.mastHeadData.Matchdetail.Status)},bgStyle(t){try{const{bgConfig:e}=l;let a="color: #FFFFFF;",i="color: #FFFFFF;";return"rgb(255, 255, 255)"!==e.themecolor&&""!==e.themecolor&&"#fff"!==e.themecolor&&"#ffffff"!==e.themecolor&&"#FFFFFF"!==e.themecolor&&"#FFF"!==e.themecolor&&"white"!==e.themecolor||(a=""),"rgb(255, 255, 255)"!==e.color&&""!==e.color&&"#fff"!==e.color&&"#ffffff"!==e.color&&"#FFFFFF"!==e.color&&"#FFF"!==e.color&&"white"!==e.color||(i=""),"background"===t&&e.themecolor?a+="background: "+e.themecolor:"color"===t?a:(e.color&&(i+=`background:${e.color};`),e.image&&(i+=`background-image: url(${e.image});`,i+=` background-color:${e.color};background-repeat:no-repeat;background-position:bottom left;`),i)}catch(t){return console.log(t),""}},setTossDetails(){let t=[],e="",a="";if(this.t20OdiMatchDetail.length=0,this.testMatchDetail.length=0,this.matchType=this.mastHeadData.Matchdetail.Match.Comp_type_id,"field"==this.mastHeadData.Matchdetail.Toss_elected_to){let t=[];t.push(this.mastHeadData.Matchdetail.Team_Home),t.push(this.mastHeadData.Matchdetail.Team_Away);const i=t.indexOf(this.mastHeadData.Matchdetail.Tosswonby);-1!==i&&t.splice(i,1),e=t[0],a=this.mastHeadData.Matchdetail.Tosswonby}else if("bat"==this.mastHeadData.Matchdetail.Toss_elected_to){let t=[];t.push(this.mastHeadData.Matchdetail.Team_Home),t.push(this.mastHeadData.Matchdetail.Team_Away);const i=t.indexOf(this.mastHeadData.Matchdetail.Tosswonby);-1!==i&&t.splice(i,1),e=this.mastHeadData.Matchdetail.Tosswonby,a=t[0]}t.push({teamId:e,isBatting:!0}),t.push({teamId:a,isBatting:!1});const i=this.scoreSequence.map(e=>t.find(t=>t.teamId===e));this.t20OdiTypeCompIds.includes(Number(this.matchType))&&i.map(t=>{this.t20OdiMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:"0/0(0.0)",overs:"",inningNumber:"first"})}),this.testTypeCompIds.includes(Number(this.matchType))&&i.map(t=>{this.testMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:"0/0(0.0)",overs:"",inningNumber:"first"})})},setPreMatchDetails(){this.t20OdiMatchDetail.length=0,this.testMatchDetail.length=0,this.matchType=this.mastHeadData.Matchdetail.Match.Comp_type_id,this.t20OdiTypeCompIds.includes(Number(this.matchType))&&(this.t20OdiMatchDetail.push({teamId:this.mastHeadData.Matchdetail.Team_Home,countryName:this.mastHeadData.Teams[this.mastHeadData.Matchdetail.Team_Home].Name_Full}),this.t20OdiMatchDetail.push({teamId:this.mastHeadData.Matchdetail.Team_Away,countryName:this.mastHeadData.Teams[this.mastHeadData.Matchdetail.Team_Away].Name_Full}),this.scoreSequence.length=0,this.t20OdiMatchDetail.map(t=>{this.scoreSequence.push(t.teamId)})),this.testTypeCompIds.includes(Number(this.matchType))&&(this.testMatchDetail.push({teamId:this.mastHeadData.Matchdetail.Team_Home,countryName:this.mastHeadData.Teams[this.mastHeadData.Matchdetail.Team_Home].Name_Full}),this.testMatchDetail.push({teamId:this.mastHeadData.Matchdetail.Team_Away,countryName:this.mastHeadData.Teams[this.mastHeadData.Matchdetail.Team_Away].Name_Full}),this.scoreSequence.length=0,this.testMatchDetail.map(t=>{this.scoreSequence.push(t.teamId)}))},setCurrentPlaying(){let t=[],e=[],a="",i="";this.batsmenPlaying.length=0,this.blowerPlaying.length=0,this.mastHeadData.Matchdetail.hasOwnProperty("isso")&&"yes"==this.mastHeadData.Matchdetail.isso?this.mastHeadData.Superovers.map(s=>{s.Innings.map(s=>{a=s.Battingteam,i=s.Bowlingteam,s.Batsmen.map(e=>{e.hasOwnProperty("Isbatting")&&t.push(e)}),s.Bowlers.map(t=>{t.hasOwnProperty("Isbowlingnow")&&e.push(t)})})}):this.mastHeadData.Innings.map(s=>{a=s.Battingteam,i=s.Bowlingteam,s.Batsmen.map(e=>{e.hasOwnProperty("Isbatting")&&t.push(e)}),s.Bowlers.map(t=>{t.hasOwnProperty("Isbowlingnow")&&e.push(t)})}),e.length&&this.blowerPlaying.push({id:e[0].Bowler,playerFName:this.mastHeadData.Teams[i].Players[e[0].Bowler].Name_Full.split(" ")[0],playerLName:this.mastHeadData.Teams[i].Players[e[0].Bowler].Name_Full.split(" ").slice(1).join(" "),wickets:e[0].Wickets,overs:e[0].Overs,runs:e[0].Runs}),t.length&&t.map(t=>{this.batsmenPlaying.push({id:t.Batsman,playerFName:this.mastHeadData.Teams[a].Players[t.Batsman].Name_Full.split(" ")[0],playerLName:this.mastHeadData.Teams[a].Players[t.Batsman].Name_Full.split(" ").slice(1).join(" "),runs:t.Runs,balls:t.Balls,isOnStrike:!!t.hasOwnProperty("Isonstrike")&&t.Isonstrike})})},getPlayerImg(t){let e="",a="";if(o.includes("series-")){const[t,i]=o.split("-");a=t,e=i}else o.includes("series")&&(e=this.getV2(this.mastHeadData,"Matchdetail.Series.Id",""),a=o);e||(a="generic");return this.getV2(g,`common_apis.icc_player_img.${a}.square`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},setPlayerOfMatch(){if(this.playerOfMatchList.length=0,this.t20OdiTypeCompIds.includes(Number(this.matchType))||this.testTypeCompIds.includes(Number(this.matchType))){if(this.mastHeadData.Matchdetail.hasOwnProperty("Player_Match")&&this.mastHeadData.Matchdetail.Awards.forEach(t=>{if(1==t.Award_Type){let e={firstname:t.Player_Name.split(" ")[0],lastname:t.Player_Name.split(" ").slice(1).join(" "),award:t};this.playerOfMatchList.push(e)}}),this.mastHeadData.Matchdetail.hasOwnProperty("Player_Series")){const t=this.mastHeadData.Matchdetail.Player_Series_Id;this.playerOfSeries.firstName=this.mastHeadData.Matchdetail.Player_Series.split(" ")[0],this.playerOfSeries.lastName=this.mastHeadData.Matchdetail.Player_Series.split(" ").slice(1).join(" "),this.playerOfSeries.id=t}if(this.mastHeadData.Matchdetail.hasOwnProperty("Player2_Series")){const t=this.mastHeadData.Matchdetail.Player2_Series_Id;this.playerOfSeries2.firstName=this.mastHeadData.Matchdetail.Player2_Series.split(" ")[0],this.playerOfSeries2.lastName=this.mastHeadData.Matchdetail.Player2_Series.split(" ").slice(1).join(" "),this.playerOfSeries2.id=t}}},showTimeGmt(){this.matchAbandonedIds.includes(this.statusId)||115==this.statusId?this.isTimeInGMT=!0:this.isTimeInGMT=!1},showTeamScore(){[117,121,114].includes(Number(this.statusId))?this.isTeamScore=!0:this.isTeamScore=!1},showOverStatus(){117==this.statusId||121==this.statusId?this.isOverStatus=!0:this.isOverStatus=!1},showPlayerDetails(){[117,121,114].includes(Number(this.statusId))?this.isPlayerDetails=!0:this.isPlayerDetails=!1},setSuperOverMatchScore(){let t="",e=[],a=0,i=0;if(this.mastHeadData.Superovers.map(e=>{e.Innings.map(e=>{t=e.Number}),i=e.Status_Id,a=e.Number}),this.statusId=i,"first"==t.toLocaleLowerCase()){if(1==a){let t=this.mastHeadData.Superovers[0];this.matchOvers=t.Innings[0].Overs,e.push({teamId:t.Innings[0].Battingteam,isBatting:!0}),e.push({teamId:t.Innings[0].Bowlingteam,isBatting:!1}),this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(e=>{this.t20OdiMatchDetail.map(a=>{e.teamId==a.teamId&&(e.isBatting?a.isBatting=!0:a.isBatting=!1,a.isSecondSOOver=!1,a.inningNumber="first",a.superOverScore=t.Innings[0].Total+"/"+t.Innings[0].Wickets+" "+(t.Innings[0].Overs?"("+t.Innings[0].Overs+")":""))})})}else if(2==a){let t=this.mastHeadData.Superovers[1],a=this.mastHeadData.Superovers[0];this.matchOvers=t.Innings[0].Overs,e.push({teamId:t.Innings[0].Battingteam,isBatting:!0}),e.push({teamId:t.Innings[0].Bowlingteam,isBatting:!1}),this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(e=>{this.t20OdiMatchDetail.map(i=>{e.teamId==i.teamId&&(e.isBatting?i.isBatting=!0:i.isBatting=!1,i.isSecondSOOver=!0,i.inningNumber="first",a.Innings.forEach(t=>{t.Battingteam==e.teamId&&(i.superOverScore=t.Total+"/"+t.Wickets+" "+(t.Overs?"("+t.Overs+")":t.Overs))}),t.Innings[0].Battingteam==e.teamId&&(i.secondSOScore=t.Innings[0].Total+"/"+t.Innings[0].Wickets+" "+(t.Innings[0].Overs?"("+t.Innings[0].Overs+")":"")))})})}this.matchOvers.split(".")[0];this.mastHeadData.Superovers.forEach(t=>{t.Innings.forEach(t=>{this.current6Balls(t.Bowlers)})})}else if("second"==t.toLocaleLowerCase()){if(1==a){let t=this.mastHeadData.Superovers[0];this.matchOvers=t.Innings[1].Overs,e.push({teamId:t.Innings[1].Battingteam,isBatting:!0}),e.push({teamId:t.Innings[1].Bowlingteam,isBatting:!1}),this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(e=>{this.t20OdiMatchDetail.map(a=>{e.teamId==a.teamId&&(t.Innings.forEach(t=>{t.Battingteam==e.teamId?(a.isBatting=!0,a.superOverScore=t.Total+"/"+t.Wickets+" "+(t.Overs?"("+t.Overs+")":t.Overs),a.superOverOvers=`(${t.Overs})`,a.runRate=t.Runrate):a.isBatting=!1}),a.inningNumber="second",a.isSecondSOOver=!1)})})}else if(2==a){let t=this.mastHeadData.Superovers[1],a=this.mastHeadData.Superovers[0];this.matchOvers=t.Innings[1].Overs,e.push({teamId:t.Innings[1].Battingteam,isBatting:!0}),e.push({teamId:t.Innings[1].Bowlingteam,isBatting:!1}),this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(e=>{this.t20OdiMatchDetail.map(i=>{e.teamId==i.teamId&&(e.isBatting?i.isBatting=!0:i.isBatting=!1,i.isSecondSOOver=!0,i.inningNumber="second",a.Innings.forEach(t=>{t.Battingteam==e.teamId&&(i.superOverScore=t.Total+"/"+t.Wickets+" "+(t.Overs?"("+t.Overs+")":""))}),t.Innings[1].Battingteam==e.teamId?i.secondSOScore=t.Innings[1].Total+"/"+t.Innings[1].Wickets+" "+(t.Innings[1].Overs?"("+t.Innings[1].Overs+")":""):i.secondSOScore=t.Innings[0].Total+"/"+t.Innings[0].Wickets+" "+(t.Innings[0].Overs?"("+t.Innings[0].Overs+")":""))})})}this.mastHeadData.Superovers.forEach(t=>{t.Innings.forEach(t=>{this.current6Balls(t.Bowlers)})})}},setMatchScores(){let t="",e=[];function a(t){return 10!=t?"/"+t:""}function i(t,e){return t&&!e?` (${t})`:""}if(this.isSuperOver=this.mastHeadData.Matchdetail.hasOwnProperty("isso"),this.mastHeadData.hasOwnProperty("Innings")&&this.mastHeadData.Innings.map(e=>{t=e.Number}),this.t20OdiMatchDetail.length=0,this.matchType=this.mastHeadData.Matchdetail.Match.Comp_type_id,this.t20OdiTypeCompIds.includes(Number(this.mastHeadData.Matchdetail.Match.Comp_type_id))){if("first"==t.toLocaleLowerCase()){e.push({teamId:this.mastHeadData.Innings[0].Battingteam,isBatting:!0}),e.push({teamId:this.mastHeadData.Innings[0].Bowlingteam,isBatting:!1});this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map((t,e)=>{this.t20OdiMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:this.mastHeadData.Innings[0].Total+a(this.mastHeadData.Innings[0].Wickets),overs:this.mastHeadData.Innings[0].Overs?`(${this.mastHeadData.Innings[0].Overs})`:"",runRate:this.mastHeadData.Innings[0].Runrate,inningNumber:"first"})}),this.matchOvers=this.mastHeadData.Innings[0].Overs;this.matchOvers.split(".")[0];this.matchOvers.split(".")[1];this.isSuperOver||this.current6Balls(this.mastHeadData.Innings[0].Bowlers)}else if("second"==t.toLocaleLowerCase()){e.push({teamId:this.mastHeadData.Innings[1].Battingteam,isBatting:!0,inningNo:1}),e.push({teamId:this.mastHeadData.Innings[1].Bowlingteam,isBatting:!1,inningNo:0});this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(t=>{this.t20OdiMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:this.mastHeadData.Innings[t.inningNo].Total+a(this.mastHeadData.Innings[t.inningNo].Wickets),overs:this.mastHeadData.Innings[t.inningNo].Overs?`(${this.mastHeadData.Innings[t.inningNo].Overs})`:"",runRate:this.mastHeadData.Innings[t.inningNo].Runrate,inningNumber:"second"})}),this.matchStatus=this.mastHeadData.Matchdetail.Equation,this.matchOvers=this.mastHeadData.Innings[1].Overs;this.matchOvers.split(".")[0];this.matchOvers.split(".")[1];this.isSuperOver||this.current6Balls(this.mastHeadData.Innings[1].Bowlers)}this.mastHeadData.Matchdetail.hasOwnProperty("isso")&&"yes"==this.mastHeadData.Matchdetail.isso&&this.mastHeadData.hasOwnProperty("Superovers")&&(this.isSuperOver=!0,this.setSuperOverMatchScore())}if(this.testTypeCompIds.includes(Number(this.mastHeadData.Matchdetail.Match.Comp_type_id))){let t="",e=[];if(this.mastHeadData.Innings.map(e=>{t=e.Number}),this.testMatchDetail.length=0,"first"==t.toLocaleLowerCase()){e.push({teamId:this.mastHeadData.Innings[0].Battingteam,isBatting:!0}),e.push({teamId:this.mastHeadData.Innings[0].Bowlingteam,isBatting:!1});this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(t=>{this.testMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:this.mastHeadData.Innings[0].Total+a(this.mastHeadData.Innings[0].Wickets)+i(this.mastHeadData.Innings[0].Overs,this.mastHeadData.Innings[0].hasOwnProperty("Isdeclared"))+""+(this.mastHeadData.Innings[0].hasOwnProperty("Isdeclared")?" d":""),inningNumber:"first",overs:this.mastHeadData.Innings[0].Overs?`(${this.mastHeadData.Innings[0].Overs})`:"",runRate:this.mastHeadData.Innings[0].Runrate})}),this.matchOvers=this.mastHeadData.Innings[0].Overs;this.matchOvers.split(".")[0];this.matchOvers.split(".")[1];this.current6Balls(this.mastHeadData.Innings[0].Bowlers)}else if("second"==t.toLocaleLowerCase()){e.push({teamId:this.mastHeadData.Innings[1].Battingteam,isBatting:!0,inningNo:1}),e.push({teamId:this.mastHeadData.Innings[1].Bowlingteam,isBatting:!1,inningNo:0});this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(t=>{this.testMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:this.mastHeadData.Innings[t.inningNo].Total+a(this.mastHeadData.Innings[t.inningNo].Wickets)+i(this.mastHeadData.Innings[t.inningNo].Overs,this.mastHeadData.Innings[t.inningNo].hasOwnProperty("Isdeclared"))+""+(this.mastHeadData.Innings[t.inningNo].hasOwnProperty("Isdeclared")?"  d":""),inningNumber:"second",overs:this.mastHeadData.Innings[t.inningNo].Overs?`(${this.mastHeadData.Innings[t.inningNo].Overs})`:"",runRate:this.mastHeadData.Innings[t.inningNo].Runrate})}),this.matchOvers=this.mastHeadData.Innings[1].Overs;this.matchOvers.split(".")[0];this.matchOvers.split(".")[1];this.current6Balls(this.mastHeadData.Innings[1].Bowlers)}else if("third"==t.toLocaleLowerCase()){this.mastHeadData.Innings[1].hasOwnProperty("HasFollowedOn")?(e.push({teamId:this.mastHeadData.Innings[2].Battingteam,isBatting:!0,inningNo:2,prevInning:1}),e.push({teamId:this.mastHeadData.Innings[2].Bowlingteam,isBatting:!1,inningNo:1,prevInning:0})):(e.push({teamId:this.mastHeadData.Innings[2].Battingteam,isBatting:!0,inningNo:2,prevInning:0}),e.push({teamId:this.mastHeadData.Innings[2].Bowlingteam,isBatting:!1,inningNo:1,prevInning:1}));this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(t=>{this.testMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:this.mastHeadData.Innings[t.prevInning].Total+a(this.mastHeadData.Innings[t.prevInning].Wickets)+i(this.mastHeadData.Innings[t.prevInning].Overs,this.mastHeadData.Innings[t.prevInning].hasOwnProperty("Isdeclared"))+""+(this.mastHeadData.Innings[t.prevInning].hasOwnProperty("Isdeclared")?" d":""),overs:this.mastHeadData.Innings[t.prevInning].Overs?`(${this.mastHeadData.Innings[t.prevInning].Overs})`:"",inningNumber:"third",runRate:2==t.inningNo?this.mastHeadData.Innings[t.inningNo].Runrate:"",thScore:2==t.inningNo?this.mastHeadData.Innings[t.inningNo].Total+a(this.mastHeadData.Innings[t.inningNo].Wickets)+i(this.mastHeadData.Innings[t.inningNo].Overs,this.mastHeadData.Innings[t.inningNo].hasOwnProperty("Isdeclared"))+`${this.mastHeadData.Innings[t.inningNo].hasOwnProperty("Isdeclared")?" d":""} ${this.mastHeadData.Innings[t.prevInning].hasOwnProperty("HasFollowedOn")?" f/o":""}`:"",thOvers:2==t.inningNo?`(${this.mastHeadData.Innings[t.inningNo].Overs})`:"",isDeclared:!!this.mastHeadData.Innings[1].hasOwnProperty("Isdeclared")&&this.mastHeadData.Innings[1].Isdeclared})}),this.matchStatus=this.mastHeadData.Matchdetail.Equation,this.matchOvers=this.mastHeadData.Innings[2].Overs;this.matchOvers.split(".")[0];this.matchOvers.split(".")[1];this.current6Balls(this.mastHeadData.Innings[2].Bowlers)}else if("fourth"==t.toLocaleLowerCase()){this.mastHeadData.Innings[1].hasOwnProperty("HasFollowedOn")?(e.push({teamId:this.mastHeadData.Innings[3].Battingteam,isBatting:!0,inningNo:3,prevInning:0}),e.push({teamId:this.mastHeadData.Innings[3].Bowlingteam,isBatting:!1,inningNo:2,prevInning:1})):(e.push({teamId:this.mastHeadData.Innings[3].Battingteam,isBatting:!0,inningNo:3,prevInning:1}),e.push({teamId:this.mastHeadData.Innings[3].Bowlingteam,isBatting:!1,inningNo:2,prevInning:0}));this.scoreSequence.map(t=>e.find(e=>e.teamId===t)).map(t=>{this.testMatchDetail.push({teamId:t.teamId,countryName:this.mastHeadData.Teams[t.teamId].Name_Full,isBatting:t.isBatting,score:this.mastHeadData.Innings[t.prevInning].Total+a(this.mastHeadData.Innings[t.prevInning].Wickets)+i(this.mastHeadData.Innings[t.prevInning].Overs,this.mastHeadData.Innings[t.prevInning].hasOwnProperty("Isdeclared"))+""+(this.mastHeadData.Innings[t.prevInning].hasOwnProperty("Isdeclared")?" d":""),inningNumber:"fourth",overs:this.mastHeadData.Innings[t.prevInning].Overs?`(${this.mastHeadData.Innings[t.prevInning].Overs})`:"",runRate:this.mastHeadData.Innings[t.inningNo].Runrate,futhScore:this.mastHeadData.Innings[t.inningNo].Total+a(this.mastHeadData.Innings[t.inningNo].Wickets)+i(this.mastHeadData.Innings[t.inningNo].Overs,this.mastHeadData.Innings[t.inningNo].hasOwnProperty("Isdeclared"))+`${this.mastHeadData.Innings[t.inningNo].hasOwnProperty("Isdeclared")?"  d":""} ${this.mastHeadData.Innings[t.prevInning].hasOwnProperty("HasFollowedOn")?" f/o":""}`,futhOver:`(${this.mastHeadData.Innings[t.inningNo].Overs})`,isDeclared:!!this.mastHeadData.Innings[1].hasOwnProperty("Isdeclared")&&this.mastHeadData.Innings[1].Isdeclared})}),this.matchStatus=this.mastHeadData.Matchdetail.Equation,this.matchOvers=this.mastHeadData.Innings[3].Overs;this.matchOvers.split(".")[0];this.matchOvers.split(".")[1];this.current6Balls(this.mastHeadData.Innings[3].Bowlers)}}},current6Balls(t){const e=this;let a=6;this.currentOverData.length=0;let i=[];function s(t){if(t.length&&t.forEach(t=>{var i;e.currentOverData.push({Outcome:"w"==t.T.toLowerCase()?t.T:t.B,ballAct:"w"==t.T.toLowerCase()?"0"==t.B?"":t.B:t.T,ballClass:(i=t.T?t.T:t.B,"w"==(i=i.toLowerCase())?"si-wicket":i.includes("nb")||i.includes("wd")||i.includes("lb")?"si-extra":"4"==i?"si-four":"6"==i?"si-six":"")}),(t.T.includes("wd")||t.T.includes("nb"))&&(a+=1)}),e.currentOverData.length<a){const t=a-e.currentOverData.length,i=new Array(t).fill("");e.currentOverData=e.currentOverData.concat(i)}}let r=[];r=t.filter(t=>t.hasOwnProperty("Isbowlingnow")),r&&r.length&&r[0].hasOwnProperty("ThisOver")&&(i=r[0].ThisOver,0!=i.length?(window.currentOver=i,s(i)):(e.currentOverData.length=0,s([])))},setLast6Balls(t,e){if(t=0==t?1:t,this.currentOverData.length=0,this.overByOverData&&this.overByOverData.hasOwnProperty("Overbyover")){let i=this.overByOverData.Overbyover.filter(e=>e.Over==t);if(i.length){for(let t=0;t<e;t++){const e={numbers:(a=i[0].Balls[t].Outcome).replace(/[^\d]/g,""),alphabets:a.replace(/[^a-zA-Z]/g,"")};e&&this.currentOverData.push({Outcome:e.numbers,ballAct:e.alphabets})}if(this.currentOverData.length<6){const t=6-this.currentOverData.length,e=new Array(t).fill("");this.currentOverData=this.currentOverData.concat(e)}}}var a},getTeamName:(t,e)=>t.Matchdetail&&t.Matchdetail[e]?t.Teams[t.Matchdetail[e]].Name_Full:"",getTeamFlagImg:t=>a.getTeamFlag(g.common_apis.TEAM_IMG,t),getMatchStatus(){let t=this.mastHeadData.Matchdetail.Status;const{Team_Home:e,Team_Away:a,Toss_elected_to:i,Tosswonby:s}=this.mastHeadData.Matchdetail,r=this.mastHeadData.Teams[e].Name_Full,n=this.mastHeadData.Teams[a].Name_Full;return t="{{TEAM_NAME}} elected to {{ELECT}}".replace("{{TEAM_NAME}}",{[s==e]:r,[s==a]:n}[!0]).replace("{{ELECT}}",i),t},handleMatchLive(t){[117,121,110].includes(Number(t))&&(this.isMatchLive=!0),127==t&&2==this.mastHeadData.Matchdetail.Lineup_status&&this.mastHeadData.Matchdetail.Tosswonby&&(this.isMatchLive=!0),this.matchAbandonedIds.includes(t)&&(113==t?this.isMatchLive=!1:2==this.mastHeadData.Matchdetail.Lineup_status?this.isMatchLive=!0:this.isMatchLive=!1),[125,114,120].includes(t)&&(this.isMatchLive=!1)},updateTimeRemaining(){const t=this.mastHeadData.Matchdetail.Match.Date,e=this.mastHeadData.Matchdetail.Match.Time,a=this.mastHeadData.Matchdetail.Match.Offset;let i=p(`${t} ${e} ${a}`);const s=new Date(i).getTime()-(new Date).getTime();if(s<0)this.matchStatus=this.mastHeadData.Matchdetail.Status,clearInterval(this.countdownIntervalId);else{const t=Math.floor(s/864e5),e=Math.floor(s%864e5/36e5);let a=Math.floor(s%36e5/6e4);Math.floor(s%6e4/1e3)>0&&(a+=1),this.matchStatus=`Match starts in ${t>0?t+"d":""} ${e>0?e+"h":""}  ${a>0?a+"m":""}`,(0==t&&1==e&&0==a||0==t&&0==e&&0!=a)&&this.initiatePolling()}},initiatePolling(){this.intervalId||(this.intervalId=setInterval(this.getWidgetData,1e3*this.clientConfig.refreshInterval))},getInningId(){let t="";this.mastHeadData.Matchdetail.hasOwnProperty("isso")&&"yes"==this.mastHeadData.Matchdetail.isso&&this.mastHeadData.hasOwnProperty("Superovers")?(this.mastHeadData.Superovers.map(e=>{e.Innings.map(e=>{t=e.Number})}),this.mtchInningId=t):this.mastHeadData.hasOwnProperty("Innings")&&(this.mastHeadData.Innings.map(e=>{t=function(t){let e;switch(t){case"first":e=1;break;case"second":e=2;break;case"third":e=3;break;case"fourth":e=4;break;default:e=""}return e}(e.Number.toLowerCase())}),this.mtchInningId=t)},async getWidgetData(){try{const t=this;t.isloading=!0;let e={};e.mastHead=t.widgetConfig.dataApis.matches.api.replace("{{CLIENTID}}",t.widgetConfig.client_id).replace("{{GAME_ID}}",t.wdGameId).replace("{{LANG}}",t.selectedLang),t.mastHeadData.length=0;const a=await window.SIWidget.utils.fetchData(e,{});t.mastHeadData=a.mastHead.data,t.statusId=t.mastHeadData.Matchdetail.Status_Id,t.updateMatchStatusId(t.statusId),t.setMatchDetails(t.mastHeadData),t.getInningId(),115!=t.statusId&&t.initiatePolling(),117!=t.statusId&&121!=t.statusId||(t.setPreMatchDetails(),t.setMatchScores(),t.setCurrentPlaying()),t.matchEnderIds.includes(Number(t.statusId))&&(t.mastHeadData.Matchdetail.hasOwnProperty("Player_Match")&&t.setPlayerOfMatch(),clearInterval(t.intervalId),t.matchEndPollingId||t.startPolling())}catch(t){self.isloading=!0,console.log("Error occured in getWidgetData",t)}},startPolling(){const t=this;let e=Date.now()+36e5;try{let a=t.mastHeadData.Matchdetail.Match.End_date,i=t.mastHeadData.Matchdetail.Match.End_time,s=t.mastHeadData.Matchdetail.Match.Offset;e=+new Date(`${a} ${i} ${s}`)+36e5}catch(t){console.log(t)}t.matchEndPollingId=setInterval(()=>{Date.now()<=e?t.getWidgetData():clearInterval(t.matchEndPollingId)},1e3*t.clientConfig.refreshInterval)},async getOverByOverData(t){try{const t=this;let e={};e.over=t.widgetConfig.dataApis.overByOver.api.replace("{{CLIENTID}}",t.widgetConfig.client_id).replace("{{OVER_GAME_ID}}",t.wdGameId).replace("{{INNING_ID}}",t.mtchInningId).replace("{{LANG}}",t.selectedLang),t.overByOverData.length=0;const a=await window.SIWidget.utils.fetchData(e,{});t.overByOverData=a.over.data,t.setMatchScores(),t.setCurrentPlaying()}catch(t){console.log("Error occured in getWidgetData",t)}},setMatchDetails(t){const e=`${t.Matchdetail.Match.Date} ${t.Matchdetail.Match.Time} ${t.Matchdetail.Match.Offset}`;let a,i=p(e,"mm/dd/yyyy");const[s,r,n]=i.split("/").map(Number),o=new Date(n,s-1,r),c=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(o),d=o.getDate(),h=new Intl.DateTimeFormat("en-US",{month:"long"}).format(o);function g(t){if(t>=11&&t<=13)return t+"th";switch(t%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd";default:return t+"th"}}if(a=p(e,"HH:MM"),this.hideTimeForSeriesId?this.matchDayMnthTime=`${c} ${g(d)} ${h} ${n}`:this.matchDayMnthTime=`${c} ${g(d)} ${h} ${n}, ${a}`,this.timeInGMT=a,this.matchVenue=t.Matchdetail.Venue.Name,t.Matchdetail.Venue.hasOwnProperty("Venue_Weather")){t.Matchdetail.Venue.Venue_Weather.hasOwnProperty("Temperature")&&(this.matchTemperature=Number(t.Matchdetail.Venue.Venue_Weather.Temperature.split("C")[0]).toFixed(0));let e="";t.Matchdetail.Venue.Venue_Weather.hasOwnProperty("Weather")?e=t.Matchdetail.Venue.Venue_Weather.Weather.toLowerCase()||"":t.Matchdetail.hasOwnProperty("Weather")&&(e=t.Matchdetail.Weather.toLowerCase()||"");const a=["mist","smoke","haze","dust","fog","sand","ash","squall","tornado"];if(["thunderstorm","drizzle","rain"].includes(e)&&(this.wheatherClass="si-rain"),a.includes(e)&&(this.wheatherClass="si-fog"),"snow"==e)this.wheatherClass="si-snow";else if("clear"==e){let t=function(t){let[e]=t.split(":");return parseInt(e,10)>=18?"night":"day"}(this.timeInGMT);"night"==t?this.wheatherClass="si-moon":"day"==t&&(this.wheatherClass="si-sunny")}else"clouds"==e&&(this.wheatherClass="si-clouds")}this.testTypeCompIds.includes(Number(this.mastHeadData.Matchdetail.Match.Comp_type_id))&&t.Matchdetail.hasOwnProperty("Day")?this.matchSeries=t.Matchdetail.Series.Name+" - Day "+t.Matchdetail.Day+" of 5":this.matchSeries=t.Matchdetail.Series.Name+" - "+t.Matchdetail.Match.Number,this.watch_live=t.other_info.watch_live,this.match_center=t.other_info.match_center,this.highlight=t.other_info.high_light,l.isUserVIP?this.hideGeoWatchLive=!1:t.other_info.blacklisted_countries?l.userCountry&&t.other_info.blacklisted_countries.toLowerCase().includes(l.userCountry.toLowerCase())?this.hideGeoWatchLive=!0:this.hideGeoWatchLive=!1:t.other_info.whitelisted_countries?l.userCountry&&t.other_info.whitelisted_countries.toLowerCase().includes(l.userCountry.toLowerCase())?this.hideGeoWatchLive=!1:this.hideGeoWatchLive=!0:this.hideGeoWatchLive=!1}},template:i};return w="function"==typeof e.createApp?e.createApp(D):new e(D),w},squad:(t,e,a)=>{let{templateMarkup:i,widgetData:s,playerImgType:r,selectedLang:n,clientCache:o,clientConfig:l}=t;const{getV2:c,getDateTime:d}=a;let h,g={data:()=>({widgetData:s,selectedLang:n}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t,window.addEventListener("resize",this.handleResize)},methods:{getV2:c,getDateTime:d,handleResize(){window.innerWidth<=767?this.widgetData.isMobile=!0:this.widgetData.isMobile=!1},beforeDestroy(){window.removeEventListener("resize",this.handleResize)},getTeamFlagImg:t=>a.getTeamFlag(l.common_apis.TEAM_IMG,t),getPlayerImg(t){let e="",a="";if(r.includes("series-")){const[t,i]=r.split("-");a=t,e=i}else r.includes("series")&&(e=this.widgetData.seriesId,a=r);e||(a="generic");return this.getV2(l,`common_apis.icc_player_img.${a}.square`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},getPlayerUrl(t){const e=this.getV2(t,"links.series_player_url",""),a=this.getV2(t,"links.player_url","");return e||a||"javascript:void(0)"},isPlayersData(){let t=!0;return this.widgetData.teamIds.length||(t=!1),t}},template:i};return h="function"==typeof e.createApp?e.createApp(g):new e(g),h},h2h:(t,e,a)=>{let{templateMarkup:i,widgetData:s,playerImgType:r,selectedLang:n,clientCache:o,clientConfig:l}=t;const{getV2:c,getDateTime:d}=a;let h,g={data:()=>({widgetData:s,selectedLang:n,commentaryData:[]}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:c,getDateTime:d,parseScore(t){if(!t)return"0";return 10!=t.split("-")[1]?t:t.split("-")[0]},getTeamFlagImg:t=>a.getTeamFlag(l.common_apis.TEAM_IMG,t),getScoreData(t,e,a){const i=e.path.replace("T_IDX",a).replace("IDX",a);let s=this.getV2(this.widgetData[t],i,"-");return s=[null,"null",NaN,"NaN",void 0,"undefined"].includes(s)?"-":s,"-"!=s&&"playersData"==t&&["bts-cbsr","bow-cbsr"].includes(e.id)&&(s=s.toFixed(2)),s},getManhattanTeamClass(t){if(0==this.widgetData.selectedInningTabs.manhattan)return 0==t?"si-team-a":"si-team-b";const e=this.widgetData.scorecardData.Innings;return 0==t&&e[2]&&e[0]?e[2].Battingteam==e[0].Battingteam?"si-team-a":"si-team-b":1==t&&e[3]&&e[1]?e[3].Battingteam==e[1].Battingteam?"si-team-b":"si-team-a":void 0},checkTestFollowOn(){if(!this.widgetData.isTest)return!1;const t=this.widgetData.scorecardData.Innings;return t[0]&&t[2]?t[2].Battingteam!=t[0].Battingteam:void 0},getPlayerImg(t){let e="",a="";if(r.includes("series-")){const[t,i]=r.split("-");a=t,e=i}else r.includes("series")&&(e=this.widgetData.seriesId,a=r);e||(a="generic");return this.getV2(l,`common_apis.icc_player_img.${a}.portrait-lg`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},getPlayerData(t,e,a){return c(this.widgetData.playersData,`teams[${t}].top_players.${a}.player[${e}]`,"")},isSuperOver:t=>!!c(t,"Superovers",c(t,"Superover",!1)),isTestMatch(){const t=c(this.widgetData,"scorecardData.Matchdetail.Match.Comp_type_id","");return[1,4,11,14,21,71,81,91,101,111,130].includes(Number(t))},isWickets(t){let e=0;return t&&t.forEach(t=>{e+=t.totalWicket.length}),!!e},isTracker(){try{return this.widgetData.tracker}catch(t){return console.log(t),!1}},playerName(t){const e=Object.keys(this.widgetData.scorecardData.Teams),a=this.widgetData.scorecardData.Teams[e[0]].Players[t]||this.widgetData.scorecardData.Teams[e[1]].Players[t];let i=a.Name_Short;if(!i){const t=a.Name_Full.split(" ");i=`${t[0].charAt(0)} ${t.pop()}`}return i},hasMatchStarted(){const t=c(this.widgetData,"scorecardData.Innings",[]);return t.length&&(t[0].Total>0||t[0].Total_Balls_Bowled>0)}},template:i};return h="function"==typeof e.createApp?e.createApp(g):new e(g),h},stats:(t,e,a)=>{let{templateMarkup:i,widgetData:s,playerImgType:r,selectedLang:n,clientCache:o,clientConfig:l}=t;const{getV2:c,getDateTime:d}=a;let h,g={data:()=>({widgetData:s,selectedLang:n,playerMatchType:"",playerOfMatch:{}}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},created(){this.setPlayerOfMatch()},methods:{getV2:c,getDateTime:d,getTeamFlagImg:t=>a.getTeamFlag(l.common_apis.TEAM_IMG,t),getPlayerImg(t){let e="",a="";if(r.includes("series-")){const[t,i]=r.split("-");a=t,e=i}else r.includes("series")&&(e=this.getV2(this.widgetData,"Matchdetail.Series.Id",""),a=r);e||(a="generic");return this.getV2(l,`common_apis.icc_player_img.${a}.square`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},getPlayerData(t,e,a){return c(this.widgetData.playersData,`teams[${t}].top_players.${a}.player[${e}]`,"")},getMatchVenue(){try{if(!this.widgetData.Matchdetail)return"-";let t="-";return t=c(this.widgetData,"Matchdetail.Venue.Name","")?""+c(this.widgetData,"Matchdetail.Venue.Name",""):c(this.widgetData,"Matchdetail.Venue.Name","")?c(this.widgetData,"Matchdetail.Venue.Name",""):c(this.widgetData,"Matchdetail.Venue.Country",""),t}catch(t){return console.log(t),"-"}},getMatchNumber(){try{return c(this.widgetData,"Matchdetail.Match.Number","-")?c(this.widgetData,"Matchdetail.Match.Number","-"):"-"}catch(t){return console.log(t),"-"}},getMatchSeries(){try{return c(this.widgetData,"Matchdetail.Series.Name","-")?c(this.widgetData,"Matchdetail.Series.Name","-"):"-"}catch(t){return console.log(t),"-"}},getPlayerOfTheMatch(){try{return c(this.widgetData,"Matchdetail.Player_Match","-")?c(this.widgetData,"Matchdetail.Player_Match","-"):"-"}catch(t){return console.log(t),"-"}},getMatchUmpire(){try{return c(this.widgetData,"Matchdetail.Officials.Umpires","-")?c(this.widgetData,"Matchdetail.Officials.Umpires","-"):"-"}catch(t){return console.log(t),"-"}},getMatchReferee(){try{return c(this.widgetData,"Matchdetail.Officials.Referee","-")?c(this.widgetData,"Matchdetail.Officials.Referee","-"):"-"}catch(t){return console.log(t),"-"}},getMatchStatus(){try{if(!this.widgetData.Matchdetail)return"-";let t="-";const{Team_Home:e,Team_Away:a,Toss_elected_to:i,Tosswonby:s}=this.widgetData.Matchdetail,r="{{TEAM_NAME}} elected to {{ELECT}}",n=this.widgetData.Teams[e].Name_Full,o=this.widgetData.Teams[a].Name_Full;if(s){const l={[s==e]:n,[s==a]:o}[!0];t=r.replace("{{TEAM_NAME}}",l).replace("{{ELECT}}",i)}return t}catch(t){return console.log(t),"-"}},setPlayerOfMatch(){try{const t=this;if(this.widgetData.Matchdetail.hasOwnProperty("Player_Match")){const e=this.widgetData.Matchdetail.Player_Match_Id;this.widgetData.Matchdetail.Awards.forEach(t=>{e==t.Player_Id&&(this.playerOfMatch.runs=t.hasOwnProperty("Runs")?t.Runs:null,this.playerOfMatch.runsConceded=t.hasOwnProperty("Runs_Conceded")?t.Runs_Conceded:null,this.playerOfMatch.balls=t.hasOwnProperty("Balls")?t.Balls:null,this.playerOfMatch.wickets=t.Wickets||0,this.playerOfMatch.oversBowled=t.hasOwnProperty("Overs_Bowled")?t.Overs_Bowled:null,this.playerOfMatch.inningDetail=t.Inning_Detail)}),Number(t.playerOfMatch.runs)&&Number(t.playerOfMatch.balls)&&(t.playerMatchType="bat"),Number(t.playerOfMatch.wickets)&&Number(t.playerOfMatch.oversBowled)&&(t.playerMatchType="bowl"),Number(t.playerOfMatch.wickets)&&Number(t.playerOfMatch.runs)&&Number(t.playerOfMatch.balls)&&Number(t.playerOfMatch.runsConceded)&&Number(t.playerOfMatch.oversBowled)&&(t.playerMatchType="allrounder")}}catch(t){console.log(t)}},getDateTime1:(t,e,i,s)=>{try{var r=`${t} ${e} ${i}`;return a.getDateTime(r,s)}catch(t){return console.log(t),"-"}},getMatchDateTime(){try{if(!this.widgetData.Matchdetail)return"-";let t="-";return t=d(c(this.widgetData,"Matchdetail.Match.Date",""),"dddd dS mmmm")&&c(this.widgetData,"Matchdetail.Match.Time","")?`${d(c(this.widgetData,"Matchdetail.Match.Date",""),"dddd dS mmmm")} | ${c(this.widgetData,"Matchdetail.Match.Time","")}`:d(c(this.widgetData,"Matchdetail.Match.Date",""),"dddd dS mmmm")?d(c(this.widgetData,"Matchdetail.Match.Date",""),"dddd dS mmmm"):c(this.widgetData,"Matchdetail.Match.Time",""),t}catch(t){return console.log(t),"-"}}},template:i};return h="function"==typeof e.createApp?e.createApp(g):new e(g),h},commentary:(t,e,a)=>{let{templateMarkup:i,widgetData:s,playerImgType:r,selectedLang:n,clientCache:o,clientConfig:l}=t;const{getV2:c,getDateTime:d}=a;let h,g={data:()=>({widgetData:s,selectedLang:n,commentaryTabs:[{displayName:"All Commentary",id:"all"},{displayName:"Key Events",id:"key-events"}],defaultCommentaryTab:"all"}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:c,getDateTime:d,getScoreClass:t=>({nb:"si-extra",w:"si-wicket",wd:"si-extra",lb:"si-extra",4:"si-four",6:"si-six"}[t.Detail?t.Detail:t.Runs]),parseScore:t=>10!=t.split("/")[1]?t:t.split("/")[0],getTeamFlagImg:t=>a.getTeamFlag(l.common_apis.TEAM_IMG,t),getPlayerImg(t){let e="",a="";if(r.includes("series-")){const[t,i]=r.split("-");a=t,e=i}else r.includes("series")&&(e=this.getV2(this.widgetData,"gameData.Matchdetail.Series.Id",""),a=r);e||(a="generic");return this.getV2(l,`common_apis.icc_player_img.${a}.square`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},getPlayerData(t,e,a){return c(this.widgetData.playersData,`teams[${t}].top_players.${a}.player[${e}]`,"")},getThisOver(t){try{return t.This_Over.split(",").filter(Boolean)}catch(t){return console.log(t),[]}},checkBallHighLight(t){try{return"0"!==t}catch(t){return console.log(t),!1}},getOverData(t){try{if(t.includes("(")){let e=t.indexOf("("),a=t.indexOf(")");return t.substring(e+1,a)}return t}catch(t){return console.log(t),""}},getTeamName(t,e,a){try{return t.Teams&&t.Teams[e]?t.Teams[e][a]:""}catch(t){console.log(t)}},getMilestoneTitle(t){try{return t.Event?3===t.Event_Type_Id?t.Event.split("-").join(" "):t.Event:""}catch(t){return console.log(t),""}},checkMilestone(t){try{let e=!1;return t.Milestone&&t.Milestone.length>0&&t.Milestone.forEach(t=>{t.Event&&"30 Runs"!==t.Event&&4!==t.Event_Id&&(e=!0)}),e}catch(t){return console.log(t),!1}},getKeyEvents(t){try{return t.filter(t=>t.Iswicket||t.Isboundary)}catch(t){return console.log(t),[]}},getMilestoneDesc(t,e,a){try{return 3===t.Event_Type_Id?`${e.Bowler_Name} ${e.Bowler_Details.Wickets}/${e.Bowler_Details.Runs} (${e.Bowler_Details.Overs})`:2===t.Event_Type_Id?`${e.Batsman_Name} ${e.Batsman_Details.Runs} (${e.Batsman_Details.Balls})`:1===t.Event_Type_Id?`${this.getTeamName(a,t.Team_Id,"Name_Full")} ${i=e.Score,10!=i.split("/")[1]?i:i.split("/")[0]} (${e.Over})`:""}catch(t){return console.log(t),""}var i}},template:i};return h="function"==typeof e.createApp?e.createApp(g):new e(g),h},standings:(t,e,a)=>{let{templateMarkup:i,widgetData:s,selectedLang:r,seriesId:n,clientCache:o,clientConfig:l}=t;const{getV2:c,getDateTime:d}=a;let h,g={data:()=>({widgetData:s,selectedLang:r}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:c,getDateTime:d,getTeamFlagImg:t=>a.getTeamFlag(l.common_apis.TEAM_IMG,t),getPlayerData(t,e,a){return c(this.widgetData.playersData,`teams[${t}].top_players.${a}.player[${e}]`,"")},getStandingsGroup(){try{return this.widgetData.standings[Object.keys(this.widgetData.standings)[0]].groups}catch(t){return console.log(t),[]}},showPageData(t){try{return this.widgetData.standingsData.length>0&&("page"===this.widgetData.viewType||"rhs"===this.widgetData.viewType&&t<5)}catch(t){return console.log(t),!1}},getTabName(t){try{if(!t.name)return"";let e="";if(e=t.name.toLowerCase().includes("group")?t.name:t.stage_type==t.name?"":"Group "+t.name,"rhs"===this.widgetData.viewType){let t=e.split(" ");e=`${t[0]} <span class="si-highlight">${t[1]}</span>`}return t.stage_type?t.stage_type.toLowerCase().includes("group")?e:e?"6122"==n?"Second Round-"+e:t.stage_type+" - "+e:t.stage_type:e}catch(e){return console.log(e),t.name}},bgStyle(t,e){try{const{bgConfig:a}=s;return a.themecolor?"table-head"===e&&"rhs"===this.widgetData.viewType?`background:${a.themecolor};border-top: 3px solid ${a.themecolor};`:"active-tab"===e?`border-bottom: 3px solid ${a.themecolor};`:`${t}:${a.themecolor};`:""}catch(t){return console.log(t),""}},noBgColor(){try{return!this.widgetData.bgConfig.themecolor}catch(t){return console.log(t),!1}}},template:i};return h="function"==typeof e.createApp?e.createApp(g):new e(g),h},playerProfileForm:(t,e,a)=>{let{templateMarkup:i,widgetData:s,selectedLang:r,parentId:n,widgetConfig:o,wdPlayerId:l,wdFormat:c,clientCache:d,clientConfig:h,wdNoDataText:g}=t;const{getV2:m,getDateTime:u}=a;let p,w={data:()=>({wdFormat:c,widgetData:s,selectedLang:r,parentId:n,widgetConfig:o,wdNoDataText:g,wdPlayerId:l,isloading:!1,singleFormData:[],multiFormData:[],isAllRounder:null,playerBattingForm:{title:"batting form",total_runs:"",batting_average:"",strike_rate:"",best_figure:"",versus:"",match_date:""},playerBowlingForm:{title:"bowling form",wickets_taken:"",bowling_average:"",economy_rate:"",best_figure:"",versus:"",match_date:""}}),computed:{},created(){this.getWidgetData()},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:m,getDateTime:u,bgStyle(){try{const{bgConfig:t}=s;let e="color: #FFFFFF;";return"rgb(255, 255, 255)"!==t.color&&""!==t.color&&"#fff"!==t.color&&"#ffffff"!==t.color&&"#FFFFFF"!==t.color&&"#FFF"!==t.color&&"white"!==t.color||(e=""),t.color&&(e+=`background:${t.color};`),this.isAllRounder&&t.image?e+=`background: url(${t.image});background-repeat:no-repeat;background-size: cover;background-position: top left;`:t.bglistimage&&(e+=`background: url(${t.bglistimage});background-repeat:no-repeat;background-size: cover;background-position: top left;`),e}catch(t){return console.log(t),""}},buildSingleForm(t,e){let a=0;this.singleFormData.length=0,t.forEach(t=>{if("1"==e||"4"==e)if(1==t.comp_type_id)if(t.batting.hasOwnProperty("innings")){let e=[];t.batting.innings.forEach(t=>{e.push(t.runs+"("+t.balls_faced+")")}),2==e.length&&e.splice(1,0,"&"),a=e.join(" ")}else a=t.batting.runs&&t.batting.balls_faced?t.batting.runs+"("+t.batting.balls_faced+")":this.wdNoDataText;else a=t.batting.runs&&t.batting.balls_faced?t.batting.runs+"("+t.batting.balls_faced+")":this.wdNoDataText;else if("2"==e)if(1==t.comp_type_id)if(t.bowling.hasOwnProperty("innings")){let e=[];t.bowling.innings.forEach(t=>{e.push(t.wickets+"/"+t.runs_given)}),2==e.length&&e.splice(1,0,"&"),a=e.join(" ")}else a=t.bowling.wickets&&t.bowling.runs_given?t.bowling.wickets+"/"+t.bowling.runs_given:this.wdNoDataText;else a=t.bowling.wickets&&t.bowling.runs_given?t.bowling.wickets+"/"+t.bowling.runs_given:this.wdNoDataText;this.singleFormData.push({matchDate:t.match_date.replaceAll("/",".")||this.wdNoDataText,seriesName:t.series_name||this.wdNoDataText,verses:t.vs.text||this.wdNoDataText,score:a||this.wdNoDataText})})},buildMultiForm(t,e){const a=["odi","t20","test","youth odi"].includes(this.wdFormat.toLowerCase())?this.wdFormat.toLowerCase():"test",i=t.profile.last_5_matches_stats.format.filter(t=>t.format_type.toLowerCase().includes(a.toLowerCase())),s=t.profile.stats.format.filter(t=>t.comp_type.toLowerCase().includes(a.toLowerCase()));i.length&&s.length&&(this.playerBattingForm={title:"batting form",total_runs:i[0].total_runs||this.wdNoDataText,batting_average:i[0].batting_average||this.wdNoDataText,strike_rate:i[0].strike_rate||this.wdNoDataText,best_figure:s[0].overall.batting_record&&s[0].overall.batting_record.hs?s[0].overall.batting_record.hs.score.text:this.wdNoDataText,versus:s[0].overall.batting_record&&s[0].overall.batting_record.hs?s[0].overall.batting_record.hs.vs.text:this.wdNoDataText,match_date:s[0].overall.batting_record&&s[0].overall.batting_record.hs?s[0].overall.batting_record.hs.match_date:this.wdNoDataText},this.playerBowlingForm={title:"bowling form",wickets_taken:i[0].wickets_taken||this.wdNoDataText,bowling_average:i[0].bowling_average||this.wdNoDataText,economy_rate:i[0].economy_rate||this.wdNoDataText,best_figure:s[0].overall.bowling_record&&s[0].overall.bowling_record.best_bowling?s[0].overall.bowling_record.best_bowling.figure.text:this.wdNoDataText,versus:s[0].overall.bowling_record&&s[0].overall.bowling_record.best_bowling?s[0].overall.bowling_record.best_bowling.vs.text:this.wdNoDataText,match_date:s[0].overall.bowling_record&&s[0].overall.bowling_record.best_bowling?s[0].overall.bowling_record.best_bowling.match_date:this.wdNoDataText})},buildForm(t){const e={test:"1",odi:"2",t20:"3",testw:"11",odiw:"12",t20w:"13"},a=t.profile.player_skill.id,i=["odi","t20","test","youth odi"].includes(this.wdFormat.toLowerCase())?this.wdFormat.toLowerCase():"test";let s=[];s=t.profile.stats.format.filter(t=>t.comp_type.toLowerCase().includes(i)),s.length&&(["1","2","4"].includes(a)?(this.isAllRounder=!1,s[0].last_n_matches&&this.buildSingleForm(s[0].last_n_matches.match,a)):(this.isAllRounder=!0,this.buildMultiForm(t,e)))},async getWidgetData(){try{const t=this;t.isloading=!0,t.parentId&&(t.widgetConfig.dataApis.playerForm.api=t.widgetConfig.dataApis.playerForm.api+"&parent_id={{PARENT_ID}}");let e={};e.data=t.widgetConfig.dataApis.playerForm.api.replace("{{CLIENTID}}",t.widgetConfig.client_id).replace("{{PLAYER_ID}}",t.wdPlayerId).replace("{{LANG}}",t.selectedLang).replace("{{PARENT_ID}}",t.parentId),window.GlobalCache=window.GlobalCache||new Map;const a=window.SIWidget.utils.memoizeAsync(window.SIWidget.utils.fetchData,window.GlobalCache),i=await a(e.data.toString(),30,e,{});t.buildForm(i.data.data||[])}catch(t){self.isloading=!0,console.log("Error occured in getWidgetData",t)}}},template:i};return p="function"==typeof e.createApp?e.createApp(w):new e(w),p},playerProfileSkills:(t,e,a)=>{let{templateMarkup:i,widgetData:s,selectedLang:r,parentId:n,seriesId:o,widgetConfig:l,wdPlayerId:c,wdFormat:d,clientCache:h,clientConfig:g,wdNoDataText:m}=t;const{getV2:u,getDateTime:p}=a;let w,D={data:()=>({wdFormat:d,widgetData:s,selectedLang:r,parentId:n,seriesId:o,widgetConfig:l,wdNoDataText:m,wdPlayerId:c,isloading:!1,playerBattingSkills:{title:"batting",totalRuns:"",battingAvg:"",StrikeRate:"",bestFigures:"",versus:"",hsDate:""},playerBowlingSkills:{title:"bowling",wickets:"",bowlAvg:"",maidens:"",bestFigures:"",versus:"",hsDate:""},playerFieldingSkills:{title:"fielding",catches:"",stumpings:"",runOuts:""}}),computed:{},created(){this.getWidgetData()},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:u,getDateTime:p,bgStyle(){try{const{bgConfig:t}=s;let e="color: #FFFFFF;";return"rgb(255, 255, 255)"!==t.color&&""!==t.color&&"#fff"!==t.color&&"#ffffff"!==t.color&&"#FFFFFF"!==t.color&&"#FFF"!==t.color&&"white"!==t.color||(e=""),t.color&&(e+=`background:${t.color};`),t.image&&(e+=`background: url(${t.image});background-repeat:no-repeat;background-size: cover;background-position: top left;`),e}catch(t){return console.log(t),""}},buildPlayerSkills(t){const e=["odi","t20","test"].includes(this.wdFormat.toLowerCase())?this.wdFormat.toLowerCase():"test";let a=[];if(this.parentId){const e={batting_record:t.parent_series_stats.stats.batting_record,bowling_record:t.parent_series_stats.stats.bowling_record,fielding_record:t.parent_series_stats.stats.fielding_record};a.push({overall:e})}else if(this.seriesId){const e={batting_record:t.series_stats.stats.batting_record,bowling_record:t.series_stats.stats.bowling_record,fielding_record:t.series_stats.stats.fielding_record};a.push({overall:e})}else a=t.profile.stats.format.filter(t=>t.comp_type.toLowerCase().includes(e));a.length&&(a[0].overall.batting_record?(Object.keys(a[0].overall.batting_record).forEach(t=>{0===a[0].overall.batting_record[t]&&(a[0].overall.batting_record[t]="0")}),this.playerBattingSkills={title:"batting",totalRuns:a[0].overall.batting_record.runs||this.wdNoDataText,battingAvg:a[0].overall.batting_record.average||this.wdNoDataText,StrikeRate:a[0].overall.batting_record.strike_rate||this.wdNoDataText,bestFigures:a[0].overall.batting_record.hs.score.text||this.wdNoDataText,versus:a[0].overall.batting_record.hs.vs.text||this.wdNoDataText,hsDate:a[0].overall.batting_record.hs.match_date||this.wdNoDataText}):this.playerBattingSkills={title:"batting",totalRuns:this.wdNoDataText,battingAvg:this.wdNoDataText,StrikeRate:this.wdNoDataText,bestFigures:this.wdNoDataText,versus:this.wdNoDataText,hsDate:this.wdNoDataText},a[0].overall.bowling_record?(Object.keys(a[0].overall.bowling_record).forEach(t=>{0===a[0].overall.bowling_record[t]&&(a[0].overall.bowling_record[t]="0")}),this.playerBowlingSkills={title:"bowling",wickets:a[0].overall.bowling_record.wickets||this.wdNoDataText,bowlAvg:a[0].overall.bowling_record.average||this.wdNoDataText,maidens:a[0].overall.bowling_record.maidens||this.wdNoDataText,bestFigures:a[0].overall.bowling_record.best_bowling.figure.text||this.wdNoDataText,versus:a[0].overall.bowling_record.best_bowling.vs.text||this.wdNoDataText,hsDate:a[0].overall.bowling_record.best_bowling.match_date||this.wdNoDataText}):this.playerBowlingSkills={title:"bowling",wickets:this.wdNoDataText,bowlAvg:this.wdNoDataText,maidens:this.wdNoDataText,bestFigures:this.wdNoDataText,versus:this.wdNoDataText,hsDate:this.wdNoDataText},a[0].overall.fielding_record?(Object.keys(a[0].overall.fielding_record).forEach(t=>{0===a[0].overall.fielding_record[t]&&(a[0].overall.fielding_record[t]="0")}),this.playerFieldingSkills={title:"fielding",catches:a[0].overall.fielding_record.catches||this.wdNoDataText,stumpings:a[0].overall.fielding_record.stumpings||this.wdNoDataText,runOuts:a[0].overall.fielding_record.run_outs||this.wdNoDataText}):this.playerFieldingSkills={title:"fielding",catches:this.wdNoDataText,stumpings:this.wdNoDataText,runOuts:this.wdNoDataText})},async getWidgetData(){try{const t=this;t.isloading=!0,t.parentId&&(t.widgetConfig.dataApis.playerSkills.api=t.widgetConfig.dataApis.playerSkills.api+"&parent_id={{PARENT_ID}}"),t.seriesId&&(t.widgetConfig.dataApis.playerSkills.api=t.widgetConfig.dataApis.playerSkills.api+"&series_id={{SERIES_ID}}");let e={};e.data=t.widgetConfig.dataApis.playerSkills.api.replace("{{CLIENTID}}",t.widgetConfig.client_id).replace("{{PLAYER_ID}}",t.wdPlayerId).replace("{{LANG}}",t.selectedLang).replace("{{PARENT_ID}}",t.parentId).replace("{{SERIES_ID}}",t.seriesId),window.GlobalCache=window.GlobalCache||new Map;const a=window.SIWidget.utils.memoizeAsync(window.SIWidget.utils.fetchData,window.GlobalCache),i=await a(e.data.toString(),30,e,{});t.buildPlayerSkills(i.data.data||[])}catch(t){self.isloading=!0,console.log("Error occured in getWidgetData",t)}}},template:i};return w="function"==typeof e.createApp?e.createApp(D):new e(D),w},playerProfileRanking:(t,e,a)=>{let{templateMarkup:i,widgetData:s,selectedLang:r,parentId:n,widgetConfig:o,wdPlayerId:l,wdFormat:c,clientCache:d,clientConfig:h,wdNoDataText:g}=t;const{getV2:m,getDateTime:u}=a;let p,w={data:()=>({wdFormat:c,widgetData:s,selectedLang:r,parentId:n,widgetConfig:o,wdNoDataText:g,wdPlayerId:l,isloading:!1,playerRankings:[]}),computed:{},created(){this.getWidgetData()},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:m,getDateTime:u,bgStyle(){try{const{bgConfig:t}=s;let e="color: #FFFFFF;";return"rgb(255, 255, 255)"!==t.color&&""!==t.color&&"#fff"!==t.color&&"#ffffff"!==t.color&&"#FFFFFF"!==t.color&&"#FFF"!==t.color&&"white"!==t.color||(e=""),t.color&&(e+=`background:${t.color};`),t.image&&(e+=`background: url(${t.image});background-repeat:no-repeat;background-size: cover;background-position: top right;`),e}catch(t){return console.log(t),""}},buildRankings(t){const e=["odi","t20","test"].includes(this.wdFormat.toLowerCase())?this.wdFormat.toLowerCase():"test",a=t.profile.stats.format.filter(t=>t.comp_type.toLowerCase().includes(e.toLowerCase()));a.length&&this.playerRankings.push({dscr:"batting",rank:Number(a[0].rankings.bat)||this.wdNoDataText},{dscr:"bowling",rank:Number(a[0].rankings.bowl)||this.wdNoDataText},{dscr:"all-rounder",rank:Number(a[0].rankings.allrounder)||this.wdNoDataText})},async getWidgetData(){try{const t=this;t.isloading=!0,t.parentId&&(t.widgetConfig.dataApis.playerForm.api=t.widgetConfig.dataApis.playerForm.api+"&parent_id={{PARENT_ID}}");let e={};e.data=t.widgetConfig.dataApis.playerForm.api.replace("{{CLIENTID}}",t.widgetConfig.client_id).replace("{{PLAYER_ID}}",t.wdPlayerId).replace("{{LANG}}",t.selectedLang).replace("{{PARENT_ID}}",t.parentId),window.GlobalCache=window.GlobalCache||new Map;const a=window.SIWidget.utils.memoizeAsync(window.SIWidget.utils.fetchData,window.GlobalCache),i=await a(e.data.toString(),30,e,{});this.buildRankings(i.data.data)}catch(t){self.isloading=!0,console.log("Error occured in getWidgetData",t)}}},template:i};return p="function"==typeof e.createApp?e.createApp(w):new e(w),p},playerProfileGraph:(t,e,a)=>{let{templateMarkup:i,widgetData:s,selectedLang:r,widgetConfig:n,wdPlayerId:o,wdFormat:l,clientCache:c,clientConfig:d}=t;const{getV2:h,getDateTime:g}=a;let m,u={data:()=>({wdFormat:l,widgetData:s,selectedLang:r,widgetConfig:n,wdPlayerId:o,isloading:!1,playerRankings:[]}),mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},computed:{},methods:{getV2:h,getDateTime:g,bgStyle(){try{const{bgConfig:t}=s;let e="color: #FFFFFF;";return"rgb(255, 255, 255)"!==t.color&&""!==t.color&&"#fff"!==t.color&&"#ffffff"!==t.color&&"#FFFFFF"!==t.color&&"#FFF"!==t.color&&"white"!==t.color||(e=""),t.color&&(e+=`background:${t.color};`),t.image&&(e+=`background: url(${t.image});background-repeat:no-repeat;background-size: cover;background-position: top left;`),e}catch(t){return console.log(t),""}},handelSocialShare(t){this.widgetData.selctedSoclShare="show"==t},getMetaContent(t){let e=document.getElementsByTagName("meta"),a=new RegExp("\\b"+t+"\\b","i");for(let t of e)if(a.test(t.getAttribute("name"))||a.test(t.getAttribute("property")))return t.getAttribute("content");return""},shareOnFb(t){window.open("//www.facebook.com/sharer/sharer.php?u="+t.url+"&picture=","pop","width=600, height=400, scrollbars=no")},shareOnWhatsApp(t){window.location="https://wa.me/?text="+encodeURIComponent(t.url)},shareOnTwitter(t){const e="https://twitter.com/intent/tweet?text="+t.postTitle+" "+t.url;window.open(e,"Share_Page","width=600,height=400, scrollbars=no, resizable=no, top=250, left=250",!1)},copyText(t){let e;var a,i,s;a=t.url,e=document.createElement("textArea"),e.readOnly=!0,e.contentEditable="true",e.value=a,document.body.appendChild(e),navigator.userAgent.match(/ipad|iphone/i)?((i=document.createRange()).selectNodeContents(e),null!=(s=window.getSelection())&&(s.removeAllRanges(),s.addRange(i)),e.setSelectionRange(0,999999)):e.select(),document.execCommand("copy"),document.body.removeChild(e)},share(t){if(window.isMobile)return;let e=this.getMetaContent("og:url"),a={postText:this.getMetaContent("og:decscription"),postTitle:this.getMetaContent("og:title"),url:e};"fb"===t?this.shareOnFb(a):"twitter"===t?this.shareOnTwitter(a):"whatsapp"===t?this.shareOnWhatsApp(a):"copy"===t&&this.copyText(a)}},template:i};return m="function"==typeof e.createApp?e.createApp(u):new e(u),m},scorecard:(t,e,a)=>{let{templateMarkup:i,widgetData:s,playerImgType:r,wdGameId:n,widgetConfig:o,selectedLang:l,clientCache:c,clientConfig:d}=t;const{getV2:h,getDateTime:g}=a,m={Shots:[],zone1:0,zone2:0,zone3:0,zone4:0,zone5:0,zone6:0,zone7:0,zone8:0,run0:0,run1:0,run2:0,run3:0,run4:0,run5:0,run6:0,run7:0,maxZone:0,offsideRuns:0,onsideRuns:0};let u,p={data:()=>({wdGameId:n,widgetData:s,clientConfig:d,isMobile:!1,widgetConfig:o,selectedLang:l,scoreCardData:[],isloading:!1,scoreCardTabs:[],intervalId:null,matchEnderIds:[113,114,128,129,130,131,150,160],batScoreDetails:[],batPlayerTableData:[],tableBottomData:{},bowlScoreDetails:[],bowlTeamName:"",bowlTeamId:"",batFallWicktName:"",batFallWicktId:"",fallOfWicketData:[],accordianStats:{},playerData:m,graphId:"",accordIndexId:null,scoreCardTabsIndex:null,showBowlingStats:!0,showWicketStats:!0,showOnlySquad:!1,squadTableData:[],elapsedTime:0,matchEndPollingId:null,showScorecard:!1,squadData:{},isMobile:!1,selectedSquad:null,countdownIntervalId:null}),watch:{shots:function(t){const e=document.getElementById(this.graphId);e&&t.length&&(e.style.width="100%",e.style.height="100%",this.$nextTick(()=>{e.width=e.offsetWidth,e.height=e.offsetHeight;const a=e.getContext("2d"),i=e.offsetWidth/2,s=e.offsetHeight/2.4;a.clearRect(0,0,e.offsetWidth,e.offsetHeight);for(let e=0;e<t.length;e++){const r=t[e],n=+r.Distance>5?4:+r.Distance-1;let o=n*i/4;4===n&&(o=n*i*1.15/4);let l=0;l="LHB"==r.Style?r.Angle-180:-1*+r.Angle;let c=i+o*Math.cos(Math.PI*l/180),d=s+o*Math.sin(Math.PI*l/180);1==r.Runs?a.strokeStyle="#FFC944":2==r.Runs||3==r.Runs?a.strokeStyle="#C3C7C2":4==r.Runs?a.strokeStyle="#58ADFF":6==r.Runs&&(a.strokeStyle="#E0082D"),a.beginPath(),a.moveTo(i,s),a.lineTo(c,d),a.stroke()}}))},"scoreCardTabs.length":function(t){this.scoreCardTabsIndex=null;let e=0;this.scoreCardTabs.forEach((t,a)=>{t.showSquad||(e=a)}),this.scoreCardTabs[e].isActive=!0}},computed:{shots:function(){return this.playerData.Shots}},created(){},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t,window.widgetIntervals.push(this.intervalId),window.addEventListener("resize",this.handleResize),this.isMobile=window.innerWidth<=767,this.isWidgetActive()},methods:{getV2:h,getDateTime:g,isWidgetActive(){const t=this;document.getElementById("tab-scorecard").getAttribute("class").includes("block")&&t.getWidgetData(),window.addEventListener("EVENT_USER_SWITCHED_TAB",e=>{const{detail:a}=e;"scorecard"==a.tab?t.getWidgetData():(clearInterval(t.intervalId),t.intervalId=null)})},initiatePolling(){this.intervalId||(this.intervalId=setInterval(this.getWidgetData,1e3*this.clientConfig.refreshInterval))},handleAccordian(t,e,a){try{this.graphId=e,this.accordIndexId=t;let i="";a||this.batPlayerTableData[t].showAccordian||(this.batPlayerTableData[t].showAccordian=!this.batPlayerTableData[t].showAccordian),a&&(this.batPlayerTableData[t].showAccordian=!this.batPlayerTableData[t].showAccordian,this.batPlayerTableData[t].showAccordian||(this.accordIndexId=null)),this.batPlayerTableData.forEach((e,a)=>{a!=t&&(e.showAccordian=!1)});let s=this.scoreCardTabs.filter(t=>t.isActive);this.scoreCardData.Innings.forEach(t=>{i=function(t){let e="";switch(t){case"first":e="1";break;case"second":e="2";break;case"third":e="3";break;case"fourth":e="4";break;default:e=""}return e}(s[0].inningCode.toLowerCase())}),this.batPlayerTableData[t].showAccordian&&this.getBatsmenSplitData(i,this.batPlayerTableData[t].playerId)}catch(t){console.log("Error occured",t)}},handleTabChng(t,e,a){this.accordIndexId=null,this.scoreCardTabsIndex=e,this.scoreCardTabs.forEach(t=>{t.isActive=!1}),this.scoreCardTabs[e].isActive=!0,a?(this.showOnlySquad=!0,this.setSquadDetails(e)):(this.showOnlySquad=!1,this.setBatScoreDetails(this.scoreCardTabs[e]),this.setBowlScoreDetails(this.scoreCardTabs[e]),this.setFallOfWickets(this.scoreCardTabs[e]))},setSquadDetails(t){this.setSquadHeading(t),this.setSquadTableData(this.scoreCardTabs[t].bowlTeamId)},getTeamFlagImg:t=>a.getTeamFlag(d.common_apis.TEAM_IMG,t),getPlayerImg(t){let e="",a="";if(r.includes("series-")){const[t,i]=r.split("-");a=t,e=i}else r.includes("series")&&(e=this.getV2(this.scoreCardData,"Matchdetail.Series.Id",""),a=r);e||(a="generic");return this.getV2(d,`common_apis.icc_player_img.${a}.square`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",e)},setFallOfWickets(t){if(this.fallOfWicketData.length=0,this.batFallWicktName=this.scoreCardData.Teams[t.teamId].Name_Full,this.batFallWicktId=t.teamId,t.isSuperOver){let e=0;1==t.superOverNo?e=0:2==t.superOverNo&&(e=1),this.scoreCardData.Superovers[e].Innings.forEach(e=>{e.Number.toLowerCase()==t.inningCode.toLowerCase()&&(e.FallofWickets.length?e.FallofWickets.forEach(t=>{let a={};a.playerId=t.Batsman,a.playerName=this.scoreCardData.Teams[e.Battingteam].Players[t.Batsman].Name_Full,a.runs=t.Score,a.overs=t.Overs,a.wickets=t.Wicket_No,this.fallOfWicketData.push(a)}):this.fallOfWicketData.length=0)})}else this.scoreCardData.Innings.forEach(e=>{e.Number.toLowerCase()==t.inningCode.toLowerCase()&&(e.FallofWickets.length?e.FallofWickets.forEach(t=>{let a={};a.playerId=t.Batsman,a.playerName=this.scoreCardData.Teams[e.Battingteam].Players[t.Batsman].Name_Full,a.runs=t.Score,a.overs=t.Overs,a.wickets=t.Wicket_No,this.fallOfWicketData.push(a)}):this.fallOfWicketData.length=0)})},setBowlScoreDetails(t){if(this.bowlScoreDetails.length=0,this.bowlTeamName=this.scoreCardData.Teams[t.bowlTeamId].Name_Full,this.bowlTeamId=t.bowlTeamId,t.isSuperOver){let e=0;1==t.superOverNo?e=0:2==t.superOverNo&&(e=1),this.scoreCardData.Superovers[e].Innings.forEach(e=>{e.Number.toLowerCase()==t.inningCode.toLowerCase()&&e.Bowlers.forEach(t=>{let a={};a.playerId=t.Bowler,a.playerName=this.scoreCardData.Teams[e.Bowlingteam].Players[t.Bowler].Name_Full,a.runs=t.Runs,a.isBowling=t.hasOwnProperty("Isbowlingnow"),a.overs=t.Overs,a.maidens=t.Maidens,a.economyRate=t.Economyrate,a.wickets=t.Wickets,this.bowlScoreDetails.push(a)})})}else this.scoreCardData.Innings.forEach(e=>{e.Number.toLowerCase()==t.inningCode.toLowerCase()&&e.Bowlers.forEach(t=>{let a={};a.playerId=t.Bowler,a.playerName=this.scoreCardData.Teams[e.Bowlingteam].Players[t.Bowler].Name_Full,a.runs=t.Runs,a.overs=t.Overs,a.maidens=t.Maidens,a.economyRate=t.Economyrate,a.isBowling=t.hasOwnProperty("Isbowlingnow"),a.wickets=t.Wickets,this.bowlScoreDetails.push(a)})})},setBatScoreDetails(t){function e(t){return 10!=t?"/"+t:""}this.isMobile=window.innerWidth<=767,this.batScoreDetails.length=0,this.batPlayerTableData.length=0;let a="",i="";Object.keys(this.scoreCardData.Teams[t.teamId].Players).forEach(e=>{this.scoreCardData.Teams[t.teamId].Players[e].hasOwnProperty("Iscaptain")&&(a=e),this.scoreCardData.Teams[t.teamId].Players[e].hasOwnProperty("Iskeeper")&&(i=e)}),t.isSuperOver?this.scoreCardData.Superovers.forEach(s=>{s.Number==t.superOverNo&&s.Innings.forEach(s=>{if(s.Number.toLowerCase()==t.inningCode.toLowerCase()){let t={};t.teamId=s.Battingteam,t.teamName=this.scoreCardData.Teams[s.Battingteam].Name_Full,t.total=s.Total,t.wickets=e(s.Wickets),t.overs=`(${s.Overs} overs)`,t.runrate=s.Runrate+" rpo",this.batScoreDetails.push(t),s.Batsmen.forEach((t,e)=>{let r={};r.playerId=t.Batsman,r.playerName=this.scoreCardData.Teams[s.Battingteam].Players[t.Batsman].Name_Full,r.isBatting=t.hasOwnProperty("Isonstrike"),r.howout=t.Howout,r.howout=this.isMobile?t.Howout_short:t.Howout,r.showAccorIcon=!1,r.runs=t.Runs,r.balls=t.Balls,r.fours=t.Fours,r.sixes=t.Sixes,r.isCaptain=a==t.Batsman,r.isKeeper=i==t.Batsman,r.videoLink=t.hasOwnProperty("wicket_url")?t.wicket_url:null,r.strikerate=t.Strikerate,this.batPlayerTableData.push(r)}),this.tableBottomData.noballs=s.Noballs,this.tableBottomData.wides=s.Wides,this.tableBottomData.byes=s.Byes,this.tableBottomData.legbyes=s.Legbyes,this.tableBottomData.overs=s.Overs,this.tableBottomData.total=s.Total,this.tableBottomData.penalty=s.Penalty,this.tableBottomData.extratotal=Number(s.Noballs)+Number(s.Wides)+Number(s.Byes)+Number(s.Legbyes)+Number(s.Penalty)}})}):this.scoreCardData.Innings.forEach(s=>{if(s.Number.toLowerCase()==t.inningCode.toLowerCase()){let t={};t.teamId=s.Battingteam,t.teamName=this.scoreCardData.Teams[s.Battingteam].Name_Full,t.total=s.Total,t.wickets=e(s.Wickets),t.overs=`(${s.Overs} overs)`,t.runrate=s.Runrate+" rpo",this.batScoreDetails.push(t),s.Batsmen.forEach((t,e)=>{let r={};r.playerId=t.Batsman,r.playerName=this.scoreCardData.Teams[s.Battingteam].Players[t.Batsman].Name_Full,r.isBatting=t.hasOwnProperty("Isonstrike"),r.howout=this.isMobile?t.Howout_short:t.Howout,r.runs=t.Runs,r.showAccordian=this.accordIndexId==e,r.showAccorIcon=function(t){return!!t.hasOwnProperty("isbatting")||(!!t.Balls||void 0)}(t),r.videoLink=t.hasOwnProperty("wicket_url")?t.wicket_url:null,r.balls=t.Balls,r.fours=t.Fours,r.sixes=t.Sixes,r.isCaptain=a==t.Batsman,r.isKeeper=i==t.Batsman,r.strikerate=t.Strikerate,this.batPlayerTableData.push(r)}),this.tableBottomData.noballs=s.Noballs,this.tableBottomData.overs=s.Overs,this.tableBottomData.wides=s.Wides,this.tableBottomData.byes=s.Byes,this.tableBottomData.legbyes=s.Legbyes,this.tableBottomData.total=s.Total,this.tableBottomData.penalty=s.Penalty,this.tableBottomData.extratotal=Number(s.Noballs)+Number(s.Wides)+Number(s.Byes)+Number(s.Legbyes)+Number(s.Penalty)}}),null!=this.accordIndexId&&this.handleAccordian(this.accordIndexId,this.graphId,null)},buildScoreCadTabs(){let t="",e="";this.scoreCardTabs.length=0;const a=this.scoreCardData.Innings||[];let i=this.scoreCardData.Matchdetail.Match.Type;if(a.forEach(t=>{let e={};e.id="_"+Math.random().toString(36).substr(2,9),e.teamId=t.Battingteam,e.bowlTeamId=t.Bowlingteam,e.shortName=this.scoreCardData.Teams[t.Battingteam].Name_Short,e.inning=("test"==i.toLowerCase()?function(t){let e="";switch(t){case"first":case"second":e="1st";break;case"third":case"fourth":e="2nd";break;default:e=""}return e}(t.Number.toLowerCase()):"")+" innings",e.inningCode=t.Number,e.isActive=!1,e.isSuperOver=!1,e.showSquad=!1,this.scoreCardTabs.push(e)}),a.forEach(a=>{t=a.Number,e=a.Bowlingteam}),"first"==t.toLocaleLowerCase()){let t={};t.id="_"+Math.random().toString(36).substr(2,9),t.teamId=e,t.bowlTeamId=e,t.shortName=this.scoreCardData.Teams[e].Name_Short,t.inning="",t.inningCode=1,t.isActive=!1,t.isSuperOver=!1,t.showSquad=!0,this.scoreCardTabs.push(t)}this.scoreCardData.Matchdetail.hasOwnProperty("isso")&&"yes"==this.scoreCardData.Matchdetail.isso&&this.scoreCardData.hasOwnProperty("Superovers")&&this.scoreCardData.Superovers.forEach(t=>{t.Innings.forEach(e=>{let a={};a.id="_"+Math.random().toString(36).substr(2,9),a.teamId=e.Battingteam,a.bowlTeamId=e.Bowlingteam,a.shortName=this.scoreCardData.Teams[e.Battingteam].Name_Short,a.inning=1==t.Number?"(SO-1) innings":"(SO-2) innings",a.inningCode=e.Number,a.isActive=!1,a.isSuperOver=!0,a.superOverNo=t.Number,this.scoreCardTabs.push(a)})});let s=0;this.scoreCardTabs.forEach((t,e)=>{t.showSquad||(s=e)}),null!=this.scoreCardTabsIndex?(this.scoreCardTabs[this.scoreCardTabsIndex].isActive=!0,s=this.scoreCardTabsIndex):this.scoreCardTabs[s].isActive=!0,this.scoreCardTabs[s].showSquad?(this.showOnlySquad=!0,this.setSquadHeading(s),this.setSquadTableData(this.scoreCardTabs[s].bowlTeamId)):(this.showOnlySquad=!1,this.setBatScoreDetails(this.scoreCardTabs[s]),this.setBowlScoreDetails(this.scoreCardTabs[s]),this.setFallOfWickets(this.scoreCardTabs[s]))},setSquadTableData(t){this.squadTableData.length=0,Object.keys(this.scoreCardData.Teams[t].Players).forEach(e=>{const a=this.scoreCardData.Teams[t].Players[e];let i={};i.playerId=e,i.isCaptain=a.Iscaptain,i.isKeeper=a.Iskeeper,i.playerPosition=Number(a.Position),i.playerName=a.Name_Full,i.matches=a.Matches,i.runs=a.Batting.Runs,i.avg=a.Batting.Average,i.wicket=a.Bowling.Wickets,i.ecorate=a.Bowling.Economyrate,this.squadTableData.push(i)}),this.squadTableData.sort((t,e)=>t.playerPosition-e.playerPosition)},setSquadHeading(t){this.batScoreDetails.length=0;let e={};e.teamId=this.scoreCardTabs[t].teamId,e.teamName=this.scoreCardData.Teams[this.scoreCardTabs[t].bowlTeamId].Name_Full,e.total="",e.wickets="",e.overs="",e.runrate="",this.batScoreDetails.push(e)},setAccorStats(t,e,a){this.accordianStats={},this.accordianStats.ones=0,this.accordianStats.twosThrees=0,this.accordianStats.fours=0,this.accordianStats.sixes=0,this.accordianStats.commentary="",this.accordianStats.batsman=e.Batsman,e.Shots.forEach(t=>{1==t.Runs&&(this.accordianStats.ones+=1),[2,3].includes(Number(t.Runs))&&(this.accordianStats.twosThrees+=1),4==t.Runs&&(this.accordianStats.fours+=1),6==t.Runs&&(this.accordianStats.sixes+=1)}),a.forEach(e=>{t==e.Dismissed&&e.hasOwnProperty("Iswicket")&&(this.accordianStats.commentary=e.Commentary)})},loadSpiderForPlayer(t,e){this.playerData=this.getGraphData(t,e)},getGraphData(t,e){const a=[];let i={Shots:[],zone1:0,zone2:0,zone3:0,zone4:0,zone5:0,zone6:0,zone7:0,zone8:0,run0:0,run1:0,run2:0,run3:0,run4:0,run5:0,run6:0,run7:0,maxZone:0};if(e.Batsmen&&e.Batsmen[t]&&e.Batsmen[t].Shots&&e.Batsmen[t].Shots.length)for(let i=0;i<e.Batsmen[t].Shots.length;i++)e.Batsmen[t].Shots[i].Style=e.Batsmen[t].Style,a.push(e.Batsmen[t].Shots[i]);i.Shots=a,i.Style=e.Batsmen[t].Style;for(let t=0;t<a.length;t++){let e=a[t].Zone;i["zone"+e]=parseInt(i["zone"+e])+parseInt(a[t].Runs),i.maxZone<=i["zone"+e]&&(i.maxZone=i["zone"+e]),i["run"+a[t].Runs]=parseInt(i["run"+a[t].Runs])+1}return i.offsideRuns=i.zone3+i.zone4+i.zone5+i.zone6,i.onsideRuns=i.zone1+i.zone2+i.zone7+i.zone8,i},async getBatsmenSplitData(t,e){try{const a=this;let i=[],s={};["batsmen","commentary"].forEach(e=>{s[e]=a.widgetConfig.dataApis[e].api.replace("{{CLIENTID}}",a.widgetConfig.client_id).replace("{{GAME_ID}}",a.wdGameId).replace("{{INNING_ID}}",t).replace("{{LANG}}",a.selectedLang)});const r=await window.SIWidget.utils.fetchData(s,{});i=r.batsmen.data.Batsmen[e],this.setAccorStats(e,i,r.commentary.data.Commentary),this.loadSpiderForPlayer(e,r.batsmen.data)}catch(t){console.log("Error occured in getWidgetData",t)}},getPlayerUrl(t){const{Teams:e}=this.scoreCardData;if(!e)return"javascript:void(0)";const a=Object.keys(e);if(!a.length)return"javascript:void(0)";let i=e[a[0]].Players;i=Array.isArray(i)?i.find(e=>e.playerId==t):i[t];let s=e[a[1]].Players;s=Array.isArray(s)?s.find(e=>e.playerId==t):s[t];let r=i||s;const n=this.getV2(r,"links.series_player_url",""),o=this.getV2(r,"links.player_url","");return n||o||"javascript:void(0)"},async getWidgetData(){try{const t=this;t.isloading=!0;let e={};e.scorecard=t.widgetConfig.dataApis.matches.api.replace("{{CLIENTID}}",t.widgetConfig.client_id).replace("{{GAME_ID}}",t.wdGameId).replace("{{LANG}}",t.selectedLang),t.scoreCardData.length=0;const a=await window.SIWidget.utils.fetchData(e,{});t.scoreCardData=a.scorecard.data,t.statusId=t.scoreCardData.Matchdetail.Status_Id,t.handlePolling(t.statusId),t.scoreCardData.hasOwnProperty("Innings")&&[1,2].includes(t.scoreCardData.Matchdetail.Lineup_status)?(t.showScorecard=!0,t.buildScoreCadTabs()):(t.squadData=t.parseScorecardData(t.scoreCardData),t.showScorecard=!1),t.matchEnderIds.includes(Number(t.statusId))&&(clearInterval(t.intervalId),t.matchEndPollingId||t.startPolling())}catch(t){self.isloading=!0,console.log("Error occured in getWidgetData",t)}},handlePolling(t){115==t?this.countdownIntervalId||(this.countdownIntervalId=setInterval(this.updateTimeRemaining,1e3),window.widgetIntervals.push(this.countdownIntervalId)):127==t&&clearInterval(this.countdownIntervalId),115!=t&&this.initiatePolling()},updateTimeRemaining(){const t=this.scoreCardData.Matchdetail.Match.Date,e=this.scoreCardData.Matchdetail.Match.Time,a=this.scoreCardData.Matchdetail.Match.Offset;let i=g(`${t} ${e} ${a}`,"mm/dd/yyyy");const s=new Date(`${i} ${e} ${a}`).getTime()-(new Date).getTime();if(s<0)clearInterval(this.countdownIntervalId);else{const t=Math.floor(s/864e5),e=Math.floor(s%864e5/36e5);let a=Math.floor(s%36e5/6e4);Math.floor(s%6e4/1e3)>0&&(a+=1),(0==t&&1==e&&0==a||0==t&&0==e&&0!=a)&&this.initiatePolling()}},isPlayersData(){let t=!0;return this.scoreCardData.teamIds.length||(t=!1),t},handleResize(){window.innerWidth<=767?this.isMobile=!0:this.isMobile=!1},beforeDestroy(){window.removeEventListener("resize",this.handleResize)},parseScorecardData(t){const e={teamIds:[],isPlayerXI:[],selectedTeamId:"",teamsData:t.Teams,seriesId:this.getV2(t,"Matchdetail.Series.Id","")||""};return Object.keys(e.teamsData).forEach(t=>{e.teamIds.push(t),Object.keys(e.teamsData[t].Players).forEach(a=>{e.teamsData[t].Players[a].playerId=a});const a=Object.values(e.teamsData[t].Players);e.teamsData[t].Players=a.sort((t,e)=>parseInt(t.Position)-parseInt(e.Position))}),e.selectedTeamId=this.selectedSquad?this.selectedSquad:e.teamIds[0],Object.keys(e.teamsData).forEach(t=>{e.teamsData[t].Players.length&&e.teamsData[t].Players[0].hasOwnProperty("Confirm_XI")&&e.isPlayerXI.push(t)}),e},changeTab(t,e){this.selectedSquad=t,t!=this.widgetData[e]&&(this.squadData[e]=t)},startPolling(){const t=this;let e=Date.now()+36e5;try{let a=t.scoreCardData.Matchdetail.Match.End_date,i=t.scoreCardData.Matchdetail.Match.End_time,s=t.scoreCardData.Matchdetail.Match.Offset;e=+new Date(`${a} ${i} ${s}`)+36e5}catch(t){console.log(t)}t.matchEndPollingId=setInterval(()=>{Date.now()<=e?t.getWidgetData():clearInterval(t.matchEndPollingId)},1e3*t.clientConfig.refreshInterval)}},template:i};return u="function"==typeof e.createApp?e.createApp(p):new e(p),u},tournamentStats:(t,e,a)=>{let{templateMarkup:i,widgetData:s,playerImgType:r,selectedLang:n,widgetConfig:o,clientCache:l,clientConfig:c}=t;const{getV2:d,getDateTime:h}=a;s.stats.forEach(t=>{let e=1;t.leaderboard.forEach(t=>{t.rank=e,e+=1})});let g,m={data:()=>({widgetData:s,selectedLang:n,widgetConfig:o,isloading:!1,selctedSoclShare:""}),created(){},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},computed:{checkTeamFilter(){try{return"team"!==this.widgetData.selectedFilter||!this.checkFilterData()}catch(t){console.log(t)}},checkSelectedStat(){try{return this.widgetData.victoryMarginStats.includes(this.widgetData.selectedStat.display_name)}catch(t){return console.log(t),!1}},getTableData(){try{return"All Teams"===this.widgetData.selectedTeam.team_name?this.getStatsData(this.widgetData.selectedStat):this.getStatsData(this.widgetData.selectedStat).filter(t=>t.team_name===this.widgetData.selectedTeam.team_name)}catch(t){return console.log(t),[]}}},methods:{getV2:d,getDateTime:h,getTeamFlagImg:t=>a.getTeamFlag(c.common_apis.TEAM_IMG,t),getPlayerUrl(t){const e=this.getV2(t,"player_url",""),a=this.getV2(t,"series_player_url","");return"records"!==this.widgetData.viewType&&(a||e||"Javascript:void(0)")},getPlayerImg(t,e=""){let a="",i="";if(r.includes("series-")){const[t,e]=r.split("-");i=t,a=e}else r.includes("series")&&(a=e,i=r);a||(i="generic");return this.getV2(c,`common_apis.icc_player_img.${i}.portrait`,"").replace("{{PLAYER_ID}}",t).replace("{{SERIES_ID}}",a)},checkStatsFilter(t){try{return Array.isArray(this.widgetData.customData.tournamentStats[t])&&this.widgetData.customData.tournamentStats[t].length>0}catch(t){return console.log(t),!1}},checkStatsType(t){try{return t.showStats||this.widgetData.selectedStat.key===t.stat_name}catch(t){return console.log(t),!1}},getStatsTilte(t){try{let e="stats"===this.widgetData.viewType?`Player ${t} Stats`:t+" Stats";return"Player team Stats"==e&&(e="Team Stats"),e.toUpperCase()}catch(t){return console.log(t),""}},getStatsData(t){try{let e=this.widgetData.stats.filter(e=>e.stat_name===t.key)[0];const a=this.getV2(e,"series_id","")||"";return e=a?e.leaderboard.map(t=>(t.seriesId=a,t)):e.leaderboard,"Most Losses"===t.display_name?[...e].reverse():e}catch(t){return console.log(t),[]}},getTeamsData(){try{let t=this.getStatsData(this.widgetData.selectedStat),e=[],a=[];t.forEach(t=>{const{team_id:e,team_name:i,team_short_name:s}=t;a.find(t=>t.team_id===e)||a.push({team_id:e,team_name:i,team_short_name:s})}),a.sort((t,e)=>{const a=t.team_name.toLowerCase(),i=e.team_name.toLowerCase();return a<i?-1:a>i?1:0});return e=[{team_id:"all",team_name:"All Teams",team_short_name:"All Teams"},...a],e}catch(t){return console.log(t),[]}},getStatsIndex(t){try{return t<10?"0"+t:t}catch(t){console.log(t)}},getPlayerFirstName(t,e){try{return t?a.getName(t,e):""}catch(t){return console.log(t),""}},getFilterCols(){try{let t=this.widgetData.customData.tournamentStats[this.widgetData.selectedFilter];return this.checkFilterData()&&(this.widgetData.filterCols=t.filter(t=>t.display_name===this.widgetData.selectedStat.display_name)[0].classes),"Fastest Hundreds"==this.widgetData.selectedStat.display_name&&this.widgetData.filterCols.sort((t,e)=>{const a={Balls:1,"Strike Rate":2,Runs:3,Opposition:4};return a[t.display_name]-a[e.display_name]}),this.widgetData.filterCols}catch(t){return console.log(t),[]}},checkFilterData(){return this.widgetData.customData.tournamentStats[this.widgetData.selectedFilter].filter(t=>t.display_name===this.widgetData.selectedStat.display_name).length},handelSocialShare(t,e,a){this.selctedSoclShare="show"==a?t+e:null},getMetaContent(t){let e=document.getElementsByTagName("meta"),a=new RegExp("\\b"+t+"\\b","i");for(let t of e)if(a.test(t.getAttribute("name"))||a.test(t.getAttribute("property")))return t.getAttribute("content");return""},shareOnFb(t){window.open("//www.facebook.com/sharer/sharer.php?u="+t.url+"&picture=","pop","width=600, height=400, scrollbars=no")},shareOnWhatsApp(t){window.location="https://wa.me/?text="+encodeURIComponent(t.url)},shareOnTwitter(t){const e="https://twitter.com/intent/tweet?text="+t.postTitle+" "+t.url;window.open(e,"Share_Page","width=600,height=400, scrollbars=no, resizable=no, top=250, left=250",!1)},copyText(t){let e;var a,i,s;a=t.url,e=document.createElement("textArea"),e.readOnly=!0,e.contentEditable="true",e.value=a,document.body.appendChild(e),navigator.userAgent.match(/ipad|iphone/i)?((i=document.createRange()).selectNodeContents(e),null!=(s=window.getSelection())&&(s.removeAllRanges(),s.addRange(i)),e.setSelectionRange(0,999999)):e.select(),document.execCommand("copy"),document.body.removeChild(e)},share(t){if(window.isMobile)return;let e=this.getMetaContent("og:url"),a={postText:this.getMetaContent("og:decscription"),postTitle:this.getMetaContent("og:title"),url:e};"fb"===t?this.shareOnFb(a):"twitter"===t?this.shareOnTwitter(a):"whatsapp"===t?this.shareOnWhatsApp(a):"copy"===t&&this.copyText(a)},bgStyle(t,e){try{const{bgConfig:a}=s;if("image"===t){if("bglistimage"===e)return`background: ${a.bgimagecolor} url(${a[e]}) no-repeat;background-size: cover;color: #FFFFFF;`;let t="color: #FFFFFF;";return"rgb(255, 255, 255)"!==a.color&&""!==a.color&&"#fff"!==a.color&&"#ffffff"!==a.color&&"#FFFFFF"!==a.color&&"#FFF"!==a.color&&"white"!==a.color||(t=""),a.color&&(t+=`background:${a.color};`),a.image&&(t+=`background-image: url(${a.image});background-size: cover;background-repeat:no-repeat;background-position: top left;`),t}return"dropdown"===t?"rgb(255, 255, 255)"===a[e]||""===a[e]||"#fff"===a[e]||"#ffffff"===a[e]||"#FFFFFF"===a[e]||"#FFF"===a[e]||"white"===a[e]?`background:${a[e]};`:`background: ${a[e]};color: #FFFFFF;`:`${t}:${a[e]};`}catch(t){return console.log(t),""}}},template:i};return g="function"==typeof e.createApp?e.createApp(m):new e(m),g},wcStandings:(t,e,a)=>{let{templateMarkup:i,widgetData:s,selectedLang:r,defaultQueryString:n,widgetConfig:o,wdStandingType:l,customData:c,clientCache:d,clientConfig:h}=t;const{getV2:g,getDateTime:m}=a;let u,p={data:()=>({widgetData:s,selectedLang:r,tableHeadList:[],standingsData:[],isloading:!1,wcType:l}),created(){this.getWidgetData()},mounted(){const t=JSON.parse(JSON.stringify(this.widgetData));this.widgetData={},this.widgetData=t},methods:{getV2:g,getDateTime:m,getTeamFlagImg:t=>a.getTeamFlag(h.common_apis.TEAM_IMG,t),buildTableView(t){const e=t.filter(t=>t.wdType.toLowerCase()==l.toLowerCase()||"all"==t.wdType.toLowerCase());if(e.length)if(this.widgetData.isMobile){const t=e.filter(t=>t.showOnMobile);this.tableHeadList=t}else this.tableHeadList=e},bgStyle(t,e){try{const{bgConfig:a}=s;return a.themecolor?"table-head"===e&&"rhs"===this.widgetData.viewType?`background:${a.themecolor};border-top: 3px solid ${a.themecolor};`:"active-tab"===e?`border-bottom: 3px solid ${a.themecolor};`:`${t}:${a.themecolor};`:""}catch(t){return console.log(t),""}},showPageData(t){try{return this.standingsData.length>0&&("page"===this.widgetData.viewType||"rhs"===this.widgetData.viewType&&t<5)}catch(t){return console.log(t),!1}},async getWidgetData(){try{this.isloading=!0;const{standings:t}=await window.SIWidget.utils.fetchData(o.dataApis,{QUERY:n});this.standingsData=t.data.standings.teams.team,c&&c.columnsConfig.length&&this.buildTableView(c.columnsConfig),this.isloading=!1}catch(t){console.log("Error occured in getWidgetData",t)}}},template:i};return u="function"==typeof e.createApp?e.createApp(p):new e(p),u}};instanceCreator.fullFixture,exports.fixtureStrip=instanceCreator.fixtureStrip,instanceCreator.rankingsStrip,instanceCreator.fullRankings,instanceCreator.mastHead,instanceCreator.squad,instanceCreator.h2h,instanceCreator.stats,instanceCreator.commentary,instanceCreator.standings,instanceCreator.playerProfileForm,instanceCreator.playerProfileSkills,instanceCreator.playerProfileRanking,instanceCreator.playerProfileGraph,instanceCreator.scorecard,instanceCreator.tournamentStats,instanceCreator.wcStandings}]);